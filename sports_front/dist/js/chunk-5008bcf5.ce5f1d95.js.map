{"version":3,"sources":["webpack:///./src/views/teacher/StudentManagement.vue","webpack:///src/views/teacher/StudentManagement.vue","webpack:///./src/views/teacher/StudentManagement.vue?a948","webpack:///./src/views/teacher/StudentManagement.vue?40a2","webpack:///./src/views/teacher/StudentManagement.vue?398d"],"names":["render","_vm","this","_c","_self","staticClass","attrs","filterForm","on","handleSearch","model","value","keyword","callback","$$v","$set","expression","_v","handleAdd","directives","name","rawName","loading","students","scopedSlots","_u","key","fn","scope","$event","handleEdit","row","handleDelete","currentPage","pageSize","total","handlePageChange","dialogTitle","dialogVisible","ref","handleSaved","staticRenderFns","components","UserForm","data","currentUser","methods","response","$axios","get","params","pageNum","code","content","totalElements","$message","error","msg","_error$response","message","fetchStudents","page","$nextTick","$refs","userForm","setFormData","$confirm","type","delete","id","success","created","component"],"mappings":"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","file":"js/chunk-5008bcf5.ce5f1d95.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"student-management\"},[_c('div',{staticClass:\"filter-section\"},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.filterForm}},[_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"搜索姓名/学号\",\"clearable\":\"\"},on:{\"clear\":_vm.handleSearch},model:{value:(_vm.filterForm.keyword),callback:function ($$v) {_vm.$set(_vm.filterForm, \"keyword\", $$v)},expression:\"filterForm.keyword\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"搜索\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"添加学生\")])],1)],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.students,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"用户名\"}}),_c('el-table-column',{attrs:{\"prop\":\"realName\",\"label\":\"姓名\"}}),_c('el-table-column',{attrs:{\"prop\":\"studentNumber\",\"label\":\"学号\"}}),_c('el-table-column',{attrs:{\"prop\":\"className\",\"label\":\"班级\"}}),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\"}}),_c('el-table-column',{attrs:{\"prop\":\"phone\",\"label\":\"电话\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next\",\"total\":_vm.total},on:{\"current-change\":_vm.handlePageChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}}),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('user-form',{ref:\"userForm\",attrs:{\"user-type\":'STUDENT'},on:{\"saved\":_vm.handleSaved}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"student-management\">\r\n    <div class=\"filter-section\">\r\n      <el-form :inline=\"true\" :model=\"filterForm\">\r\n        <el-form-item>\r\n          <el-input\r\n            v-model=\"filterForm.keyword\"\r\n            placeholder=\"搜索姓名/学号\"\r\n            clearable\r\n            @clear=\"handleSearch\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"handleSearch\">搜索</el-button>\r\n          <el-button type=\"success\" @click=\"handleAdd\">添加学生</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n\r\n    <el-table :data=\"students\" border v-loading=\"loading\">\r\n      <el-table-column prop=\"username\" label=\"用户名\"></el-table-column>\r\n      <el-table-column prop=\"realName\" label=\"姓名\"></el-table-column>\r\n      <el-table-column prop=\"studentNumber\" label=\"学号\"></el-table-column>\r\n      <el-table-column prop=\"className\" label=\"班级\"></el-table-column>\r\n      <el-table-column prop=\"email\" label=\"邮箱\"></el-table-column>\r\n      <el-table-column prop=\"phone\" label=\"电话\"></el-table-column>\r\n      <el-table-column label=\"操作\" width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"mini\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n          <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <el-pagination\r\n      @current-change=\"handlePageChange\"\r\n      :current-page.sync=\"currentPage\"\r\n      :page-size=\"pageSize\"\r\n      layout=\"total, prev, pager, next\"\r\n      :total=\"total\">\r\n    </el-pagination>\r\n\r\n    <!-- 添加/编辑对话框 -->\r\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogVisible\">\r\n      <user-form\r\n        ref=\"userForm\"\r\n        :user-type=\"'STUDENT'\"\r\n        @saved=\"handleSaved\">\r\n      </user-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UserForm from '../admin/UserForm.vue'\r\n\r\nexport default {\r\n  name: 'TeacherStudentManagement',\r\n  components: {\r\n    UserForm\r\n  },\r\n  data() {\r\n    return {\r\n      students: [],\r\n      loading: false,\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      filterForm: {\r\n        keyword: ''\r\n      },\r\n      dialogVisible: false,\r\n      dialogTitle: '添加学生',\r\n      currentUser: null\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchStudents() {\r\n      try {\r\n        this.loading = true;\r\n        const response = await this.$axios.get('/api/teacher/students', {\r\n          params: {\r\n            pageNum: this.currentPage,\r\n            pageSize: this.pageSize,\r\n            keyword: this.filterForm.keyword\r\n          }\r\n        });\r\n        if (response.data.code === 200) {\r\n          this.students = response.data.data.content;\r\n          this.total = response.data.data.totalElements;\r\n        } else {\r\n          this.$message.error(response.data.msg || '获取学生列表失败');\r\n        }\r\n      } catch (error) {\r\n        this.$message.error(error.response?.data?.msg || error.message || '获取学生列表失败');\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    handleSearch() {\r\n      this.currentPage = 1\r\n      this.fetchStudents()\r\n    },\r\n    handlePageChange(page) {\r\n      this.currentPage = page\r\n      this.fetchStudents()\r\n    },\r\n    handleAdd() {\r\n      this.dialogTitle = '添加学生'\r\n      this.currentUser = null\r\n      this.dialogVisible = true\r\n    },\r\n    handleEdit(row) {\r\n      this.dialogTitle = '编辑学生'\r\n      this.currentUser = row\r\n      this.dialogVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs.userForm.setFormData(row)\r\n      })\r\n    },\r\n    async handleDelete(row) {\r\n      try {\r\n        await this.$confirm('确认删除该学生?', '提示', {\r\n          type: 'warning'\r\n        })\r\n        const response = await this.$axios.delete(`/api/teacher/students/${row.id}`)\r\n        if (response.data.code === 200) {\r\n          this.$message.success('删除成功')\r\n          this.fetchStudents()\r\n        } else {\r\n          this.$message.error(response.data.msg || '删除失败')\r\n        }\r\n      } catch (error) {\r\n        if (error !== 'cancel') {\r\n          this.$message.error('删除失败：' + error.message)\r\n        }\r\n      }\r\n    },\r\n    handleSaved() {\r\n      this.dialogVisible = false\r\n      this.fetchStudents()\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchStudents()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.student-management {\r\n  padding: 20px;\r\n}\r\n.filter-section {\r\n  margin-bottom: 20px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudentManagement.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudentManagement.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./StudentManagement.vue?vue&type=template&id=31cbc6fc&scoped=true\"\nimport script from \"./StudentManagement.vue?vue&type=script&lang=js\"\nexport * from \"./StudentManagement.vue?vue&type=script&lang=js\"\nimport style0 from \"./StudentManagement.vue?vue&type=style&index=0&id=31cbc6fc&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31cbc6fc\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudentManagement.vue?vue&type=style&index=0&id=31cbc6fc&prod&scoped=true&lang=css\""],"sourceRoot":""}