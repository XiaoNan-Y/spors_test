(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b7e33b0"],{"0e70":function(e,t,a){},"3bb1":function(e,t,a){"use strict";a("0e70")},"993d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"notice-list"},[t("div",{staticClass:"search-bar"},[t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"搜索通知标题"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)}},model:{value:e.searchKeyword,callback:function(t){e.searchKeyword=t},expression:"searchKeyword"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleSearch},slot:"append"})],1),t("el-select",{staticStyle:{width:"120px","margin-left":"10px"},attrs:{placeholder:"通知类型",clearable:""},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},[t("el-option",{attrs:{label:"全部",value:""}}),t("el-option",{attrs:{label:"体测安排",value:"TEST_SCHEDULE"}}),t("el-option",{attrs:{label:"成绩公布",value:"SCORE_RELEASE"}}),t("el-option",{attrs:{label:"系统维护",value:"SYSTEM_MAINTENANCE"}}),t("el-option",{attrs:{label:"其他通知",value:"OTHER"}})],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.noticeList,border:""}},[t("el-table-column",{attrs:{prop:"type",label:"类型",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{type:e.getTypeTagType(a.row.type)}},[e._v(" "+e._s(e.getTypeLabel(a.row.type))+" ")])]}}])}),t("el-table-column",{attrs:{prop:"title",label:"标题","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{class:{"important-notice":"HIGH"===a.row.priority}},[e._v(" "+e._s(a.row.title)+" ")])]}}])}),t("el-table-column",{attrs:{prop:"createTime",label:"发布时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatDateTime(t.row.createTime))+" ")]}}])}),t("el-table-column",{attrs:{label:"操作",width:"100",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleView(a.row)}}},[e._v(" 查看详情 ")])]}}])})],1),t("div",{staticClass:"pagination-container"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),t("el-dialog",{attrs:{title:e.viewingNotice.title,visible:e.dialogVisible,width:"600px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",{staticClass:"notice-detail"},[t("div",{staticClass:"notice-header"},[t("div",{staticClass:"notice-type"},[t("el-tag",{attrs:{type:e.getTypeTagType(e.viewingNotice.type)}},[e._v(" "+e._s(e.getTypeLabel(e.viewingNotice.type))+" ")])],1)]),t("div",{staticClass:"notice-meta"},[t("span",[e._v("发布时间："+e._s(e.formatDateTime(e.viewingNotice.createTime)))]),"HIGH"===e.viewingNotice.priority?t("span",{staticClass:"notice-priority"},[t("i",{staticClass:"el-icon-warning"}),e._v("重要通知 ")]):e._e()]),t("div",{staticClass:"notice-content"},[e._v(e._s(e.viewingNotice.content))])])])],1)},s=[],n={name:"NoticeList",data(){return{searchKeyword:"",searchType:"",currentPage:1,pageSize:10,total:0,loading:!1,noticeList:[],dialogVisible:!1,viewingNotice:{}}},created(){this.fetchNoticeList()},methods:{async fetchNoticeList(){try{this.loading=!0;const e=await this.$axios.get("/api/student/notices",{params:{keyword:this.searchKeyword,type:this.searchType,page:this.currentPage-1,size:this.pageSize}});if(200===e.data.code){const t=e.data.data;this.noticeList=t.content||[],this.total=t.totalElements||0}else this.$message.error(e.data.message||"获取通知列表失败")}catch(e){console.error("获取通知列表失败:",e),this.$message.error(e.message||"获取通知列表失败")}finally{this.loading=!1}},handleSearch(){this.currentPage=1,this.fetchNoticeList()},handleSizeChange(e){this.pageSize=e,this.fetchNoticeList()},handleCurrentChange(e){this.currentPage=e,this.fetchNoticeList()},handleView(e){this.viewingNotice={...e},this.dialogVisible=!0},getTypeTagType(e){const t={TEST_SCHEDULE:"primary",SCORE_RELEASE:"success",SYSTEM_MAINTENANCE:"warning",OTHER:"info"};return t[e]||"info"},getTypeLabel(e){const t={TEST_SCHEDULE:"体测安排",SCORE_RELEASE:"成绩公布",SYSTEM_MAINTENANCE:"系统维护",OTHER:"其他通知"};return t[e]||"其他通知"},formatDateTime(e){return e?new Date(e).toLocaleString():""}}},l=n,o=(a("3bb1"),a("2877")),r=Object(o["a"])(l,i,s,!1,null,"2a1d7479",null);t["default"]=r.exports}}]);
//# sourceMappingURL=chunk-0b7e33b0.1250fe84.js.map