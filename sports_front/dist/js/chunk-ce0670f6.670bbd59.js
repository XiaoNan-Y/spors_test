(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ce0670f6"],{"89f2":function(t,s,e){},a7ba:function(t,s,e){"use strict";e.r(s);e("14d9");var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"dashboard-container"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("el-card",{staticClass:"info-card"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",[t._v("个人信息")])]),s("div",{staticClass:"info-content"},[s("div",{staticClass:"info-item"},[s("span",{staticClass:"label"},[t._v("姓名：")]),s("span",[t._v(t._s(t.studentInfo.name))])]),s("div",{staticClass:"info-item"},[s("span",{staticClass:"label"},[t._v("学号：")]),s("span",[t._v(t._s(t.studentInfo.studentId))])]),s("div",{staticClass:"info-item"},[s("span",{staticClass:"label"},[t._v("班级：")]),s("span",[t._v(t._s(t.studentInfo.className))])])])])],1),s("el-col",{attrs:{span:8}},[s("el-card",{staticClass:"test-status-card"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",[t._v("体测状态")])]),s("div",{staticClass:"test-status-content"},[s("el-progress",{attrs:{type:"circle",percentage:t.testProgress,status:t.testProgressStatus}}),s("div",{staticClass:"status-text"},[t._v("已完成 "+t._s(t.completedItems)+"/"+t._s(t.totalItems)+" 个项目")])],1)])],1),s("el-col",{attrs:{span:8}},[s("el-card",{staticClass:"notice-card"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",[t._v("最新通知")]),s("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(s){return t.$router.push("/student/notices")}}},[t._v("查看更多")])],1),s("div",{staticClass:"notice-list"},t._l(t.recentNotices,(function(e){return s("div",{key:e.id,staticClass:"notice-item"},[s("span",{staticClass:"notice-title"},[t._v(t._s(e.title))]),s("span",{staticClass:"notice-date"},[t._v(t._s(e.date))])])})),0)])],1)],1),s("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:20}},[s("el-col",{attrs:{span:24}},[s("el-card",{staticClass:"upcoming-tests-card"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",[t._v("待测项目")])]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.upcomingTests}},[s("el-table-column",{attrs:{prop:"name",label:"项目名称"}}),s("el-table-column",{attrs:{prop:"standard",label:"达标要求"}}),s("el-table-column",{attrs:{prop:"deadline",label:"测试截止日期"}}),s("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(s){return t.viewTestDetail(e.row)}}},[t._v("查看详情")])]}}])})],1)],1)],1)],1)],1)},i=[],n={name:"StudentDashboard",data(){return{studentInfo:{name:"",studentId:"",className:""},completedItems:0,totalItems:0,recentNotices:[],upcomingTests:[]}},computed:{testProgress(){return this.totalItems?Math.round(this.completedItems/this.totalItems*100):0},testProgressStatus(){return 100===this.testProgress?"success":""}},created(){this.fetchStudentInfo(),this.fetchTestProgress(),this.fetchRecentNotices(),this.fetchUpcomingTests()},methods:{async fetchStudentInfo(){try{const t=await this.$http.get("/api/student/info");this.studentInfo=t.data}catch(t){this.$message.error("获取个人信息失败")}},async fetchTestProgress(){try{const t=await this.$http.get("/api/student/test-progress");this.completedItems=t.data.completed,this.totalItems=t.data.total}catch(t){this.$message.error("获取体测进度失败")}},async fetchRecentNotices(){try{const t=await this.$http.get("/api/notices/recent");this.recentNotices=t.data}catch(t){this.$message.error("获取通知失败")}},async fetchUpcomingTests(){try{const t=await this.$http.get("/api/student/upcoming-tests");this.upcomingTests=t.data}catch(t){this.$message.error("获取待测项目失败")}},viewTestDetail(t){this.$router.push("/student/test-items/"+t.id)}}},c=n,r=(e("af90"),e("2877")),o=Object(r["a"])(c,a,i,!1,null,"7f18a88c",null);s["default"]=o.exports},af90:function(t,s,e){"use strict";e("89f2")}}]);
//# sourceMappingURL=chunk-ce0670f6.670bbd59.js.map