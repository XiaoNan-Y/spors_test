(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b1f48ac"],{"000c":function(t,s,e){"use strict";e("1cef")},"1cef":function(t,s,e){},"64cd":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"test-items-container"},[t._l(t.testItems,(function(e){return s("el-card",{key:e.id,staticClass:"test-item-card"},[s("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[s("span",{staticClass:"item-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"header-actions"},[s("el-tag",{attrs:{type:t.getStatusType(e.status)}},[t._v(t._s(t.getStatusText(e.status)))]),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(s){return t.viewDetail(e)}}},[t._v(" 查看详情 ")])],1)]),s("div",{staticClass:"item-content"},[s("div",{staticClass:"item-info"},[s("div",{staticClass:"info-row"},[s("span",{staticClass:"label"},[t._v("测试时间：")]),s("span",[t._v(t._s(e.testTime))])]),s("div",{staticClass:"info-row"},[s("span",{staticClass:"label"},[t._v("达标要求：")]),s("span",[t._v(t._s(e.standard))])]),s("div",{staticClass:"info-row"},[s("span",{staticClass:"label"},[t._v("测试地点：")]),s("span",[t._v(t._s(e.location))])])]),s("div",{staticClass:"item-description"},[s("div",{staticClass:"description-title"},[t._v("测试说明：")]),s("div",{staticClass:"description-content"},[t._v(t._s(e.description))])])])])})),s("el-dialog",{attrs:{title:t.currentItem.name+" - 详细信息",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(s){t.dialogVisible=s}}},[s("div",{staticClass:"detail-content"},[s("div",{staticClass:"detail-section"},[s("h4",[t._v("测试方法")]),s("p",[t._v(t._s(t.currentItem.testMethod))])]),s("div",{staticClass:"detail-section"},[s("h4",[t._v("评分标准")]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.currentItem.scoreStandards}},[s("el-table-column",{attrs:{prop:"score",label:"分数",width:"100"}}),s("el-table-column",{attrs:{prop:"requirement",label:"要求"}})],1)],1),"completed"===t.currentItem.status?s("div",{staticClass:"detail-section"},[s("h4",[t._v("我的成绩")]),s("div",{staticClass:"my-score"},[s("span",{staticClass:"score-value"},[t._v(t._s(t.currentItem.myScore))]),s("span",{staticClass:"score-text"},[t._v("分")])])]):t._e(),"completed"!==t.currentItem.status?s("div",{staticClass:"detail-actions"},[s("el-button",{attrs:{type:"primary"},on:{click:t.applyForTest}},[t._v("申请测试")])],1):s("div",{staticClass:"detail-actions"},[s("el-button",{attrs:{type:"warning"},on:{click:t.applyForRetest}},[t._v("申请重测")])],1)])])],2)},i=[],c={name:"TestItems",data(){return{testItems:[],dialogVisible:!1,currentItem:{}}},created(){this.fetchTestItems()},methods:{async fetchTestItems(){try{const t=await this.$http.get("/api/student/test-items");this.testItems=t.data}catch(t){this.$message.error("获取体测项目失败")}},getStatusType(t){const s={not_started:"info",in_progress:"warning",completed:"success",missed:"danger"};return s[t]||"info"},getStatusText(t){const s={not_started:"未开始",in_progress:"进行中",completed:"已完成",missed:"已错过"};return s[t]||"未知状态"},viewDetail(t){this.currentItem={...t},this.dialogVisible=!0},async applyForTest(){try{await this.$http.post(`/api/student/test-items/${this.currentItem.id}/apply`),this.$message.success("申请成功"),this.dialogVisible=!1,this.fetchTestItems()}catch(t){this.$message.error("申请失败")}},async applyForRetest(){try{await this.$http.post(`/api/student/test-items/${this.currentItem.id}/retest`),this.$message.success("重测申请已提交"),this.dialogVisible=!1,this.fetchTestItems()}catch(t){this.$message.error("申请失败")}}}},n=c,r=(e("000c"),e("2877")),l=Object(r["a"])(n,a,i,!1,null,"7fd6b205",null);s["default"]=l.exports}}]);
//# sourceMappingURL=chunk-4b1f48ac.c37c39b5.js.map