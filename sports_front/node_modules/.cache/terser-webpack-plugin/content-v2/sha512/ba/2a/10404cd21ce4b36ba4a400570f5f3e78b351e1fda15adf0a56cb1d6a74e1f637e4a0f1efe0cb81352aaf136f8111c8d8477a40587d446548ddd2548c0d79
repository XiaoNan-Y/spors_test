{"map":"{\"version\":3,\"sources\":[\"js/chunk-3c786940.39f9dabe.js\"],\"names\":[\"window\",\"push\",\"2a2b\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"2ce6\",\"exports\",\"dac2\",\"r\",\"render\",\"_vm\",\"this\",\"_c\",\"_self\",\"staticClass\",\"attrs\",\"inline\",\"model\",\"filterForm\",\"label\",\"placeholder\",\"clearable\",\"value\",\"className\",\"callback\",\"$$v\",\"$set\",\"expression\",\"_l\",\"classNames\",\"key\",\"sportsItemId\",\"sportsItems\",\"item\",\"id\",\"name\",\"status\",\"type\",\"on\",\"click\",\"handleSearch\",\"_v\",\"handleReset\",\"directives\",\"rawName\",\"loading\",\"staticStyle\",\"width\",\"data\",\"statistics\",\"border\",\"stripe\",\"prop\",\"align\",\"scopedSlots\",\"_u\",\"fn\",\"scope\",\"_s\",\"row\",\"averageScore\",\"toFixed\",\"calculateRate\",\"excellentCount\",\"totalCount\",\"passCount\",\"staticRenderFns\",\"ClassStatsvue_type_script_lang_js\",\"[object Object]\",\"loadClassNames\",\"loadSportsItems\",\"loadStatistics\",\"methods\",\"response\",\"$axios\",\"get\",\"code\",\"error\",\"console\",\"$message\",\"params\",\"log\",\"Error\",\"message\",\"length\",\"warning\",\"_error$response\",\"count\",\"total\",\"teacher_ClassStatsvue_type_script_lang_js\",\"componentNormalizer\",\"component\",\"Object\"],\"mappings\":\"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\"}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-3c786940\"],{\"2a2b\":function(t,e,a){\"use strict\";a(\"2ce6\")},\"2ce6\":function(t,e,a){},dac2:function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t._self._c;return e(\"div\",{staticClass:\"class-stats\"},[e(\"div\",{staticClass:\"filter-section\"},[e(\"el-form\",{attrs:{inline:!0,model:t.filterForm}},[e(\"el-form-item\",{attrs:{label:\"班级\"}},[e(\"el-select\",{attrs:{placeholder:\"选择班级\",clearable:\"\"},model:{value:t.filterForm.className,callback:function(e){t.$set(t.filterForm,\"className\",e)},expression:\"filterForm.className\"}},t._l(t.classNames,(function(t){return e(\"el-option\",{key:t,attrs:{label:t,value:t}})})),1)],1),e(\"el-form-item\",{attrs:{label:\"测试项目\"}},[e(\"el-select\",{attrs:{placeholder:\"选择测试项目\",clearable:\"\"},model:{value:t.filterForm.sportsItemId,callback:function(e){t.$set(t.filterForm,\"sportsItemId\",e)},expression:\"filterForm.sportsItemId\"}},t._l(t.sportsItems,(function(t){return e(\"el-option\",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),e(\"el-form-item\",{attrs:{label:\"状态\"}},[e(\"el-select\",{attrs:{placeholder:\"选择状态\",clearable:\"\"},model:{value:t.filterForm.status,callback:function(e){t.$set(t.filterForm,\"status\",e)},expression:\"filterForm.status\"}},[e(\"el-option\",{attrs:{label:\"待审核\",value:\"PENDING\"}}),e(\"el-option\",{attrs:{label:\"已通过\",value:\"APPROVED\"}}),e(\"el-option\",{attrs:{label:\"已驳回\",value:\"REJECTED\"}})],1)],1),e(\"el-form-item\",[e(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.handleSearch}},[t._v(\"查询\")]),e(\"el-button\",{on:{click:t.handleReset}},[t._v(\"重置\")])],1)],1)],1),e(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loading,expression:\"loading\"}],staticStyle:{width:\"100%\"},attrs:{data:t.statistics,border:\"\",stripe:\"\"}},[e(\"el-table-column\",{attrs:{prop:\"className\",label:\"班级\",align:\"center\"}}),e(\"el-table-column\",{attrs:{prop:\"totalCount\",label:\"总人数\",align:\"center\"}}),e(\"el-table-column\",{attrs:{prop:\"averageScore\",label:\"平均分\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(\" \"+t._s(e.row.averageScore.toFixed(2))+\" \")]}}])}),e(\"el-table-column\",{attrs:{label:\"优秀率\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(\" \"+t._s(t.calculateRate(e.row.excellentCount,e.row.totalCount))+\"% \")]}}])}),e(\"el-table-column\",{attrs:{label:\"及格率\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(\" \"+t._s(t.calculateRate(e.row.passCount,e.row.totalCount))+\"% \")]}}])})],1)],1)},l=[],o=(a(\"d9e2\"),{name:\"ClassStats\",data(){return{loading:!1,statistics:[],classNames:[],sportsItems:[],filterForm:{className:\"\",sportsItemId:\"\",status:\"APPROVED\"}}},created(){this.loadClassNames(),this.loadSportsItems(),this.loadStatistics()},methods:{async loadClassNames(){try{const t=await this.$axios.get(\"/api/teacher/classes\");200===t.data.code&&(this.classNames=t.data.data)}catch(t){console.error(\"获取班级列表失败:\",t),this.$message.error(\"获取班级列表失败\")}},async loadSportsItems(){try{const t=await this.$axios.get(\"/api/teacher/sports-items\");200===t.data.code&&(this.sportsItems=t.data.data)}catch(t){console.error(\"获取体育项目列表失败:\",t),this.$message.error(\"获取体育项目列表失败\")}},async loadStatistics(){this.loading=!0;try{const t={className:this.filterForm.className||\"\",sportsItemId:this.filterForm.sportsItemId||\"\",status:this.filterForm.status||\"\"};console.log(\"发送统计查询参数:\",t);const e=await this.$axios.get(\"/api/teacher/statistics/class\",{params:t});if(console.log(\"统计数据原始响应:\",e),200!==e.data.code)throw new Error(e.data.message||\"获取统计数据失败\");this.statistics=e.data.data,console.log(\"处理后的统计数据:\",this.statistics),0===this.statistics.length&&this.$message.warning(\"没有找到符合条件的统计数据\")}catch(e){var t;console.error(\"获取统计数据失败:\",e),this.$message.error(\"获取统计数据失败: \"+((null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||e.message))}finally{this.loading=!1}},handleSearch(){this.loadStatistics()},handleReset(){this.filterForm={className:\"\",sportsItemId:\"\",status:\"APPROVED\"},this.loadStatistics()},calculateRate(t,e){return e?(t/e*100).toFixed(2):\"0.00\"}}}),r=o,i=(a(\"2a2b\"),a(\"2877\")),c=Object(i[\"a\"])(r,s,l,!1,null,\"52193fee\",null);e[\"default\"]=c.exports}}]);","extractedComments":[]}