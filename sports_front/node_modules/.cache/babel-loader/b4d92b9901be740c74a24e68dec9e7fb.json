{"remainingRequest":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\src\\router\\index.js","mtime":1741700614107},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\babel.config.js","mtime":1741355860000},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741355860000},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\babel-loader\\lib\\index.js","mtime":1741355860000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3Iuc29tZS5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IExvZ2luIGZyb20gJy4uL3ZpZXdzL0xvZ2luLnZ1ZSc7CmltcG9ydCBBZG1pbkxheW91dCBmcm9tICdAL2xheW91dHMvQWRtaW5MYXlvdXQudnVlJzsKaW1wb3J0IFRlc3RSZWNvcmRMaXN0IGZyb20gJ0Avdmlld3MvYWRtaW4vVGVzdFJlY29yZExpc3QudnVlJzsKaW1wb3J0IFVzZXJMaXN0IGZyb20gJ0Avdmlld3MvYWRtaW4vVXNlckxpc3QudnVlJzsKaW1wb3J0IERhc2hib2FyZCBmcm9tICdAL3ZpZXdzL2FkbWluL0Rhc2hib2FyZC52dWUnOwppbXBvcnQgU3R1ZGVudE1hbmFnZW1lbnQgZnJvbSAnQC92aWV3cy9hZG1pbi9TdHVkZW50TWFuYWdlbWVudC52dWUnOwppbXBvcnQgVGVhY2hlck1hbmFnZW1lbnQgZnJvbSAnQC92aWV3cy9hZG1pbi9UZWFjaGVyTWFuYWdlbWVudC52dWUnOwppbXBvcnQgU3BvcnRzSXRlbXMgZnJvbSAnQC92aWV3cy9hZG1pbi9TcG9ydHNJdGVtcy52dWUnOwppbXBvcnQgTm90aWNlTWFuYWdlbWVudCBmcm9tICdAL3ZpZXdzL2FkbWluL05vdGljZU1hbmFnZW1lbnQudnVlJzsKaW1wb3J0IFByb2ZpbGUgZnJvbSAnQC92aWV3cy9hZG1pbi9Qcm9maWxlLnZ1ZSc7CmltcG9ydCBEYXRhUmV2aWV3IGZyb20gJ0Avdmlld3MvYWRtaW4vRGF0YVJldmlldy52dWUnOwpWdWUudXNlKFZ1ZVJvdXRlcik7CmNvbnN0IHJvdXRlcyA9IFt7CiAgcGF0aDogJy9sb2dpbicsCiAgbmFtZTogJ0xvZ2luJywKICBjb21wb25lbnQ6IExvZ2luLAogIG1ldGE6IHsKICAgIHJlcXVpcmVzQXV0aDogZmFsc2UKICB9Cn0sIHsKICBwYXRoOiAnL2FkbWluJywKICBjb21wb25lbnQ6IEFkbWluTGF5b3V0LAogIG1ldGE6IHsKICAgIHJlcXVpcmVzQXV0aDogdHJ1ZSwKICAgIHJvbGU6ICdBRE1JTicKICB9LAogIGNoaWxkcmVuOiBbewogICAgcGF0aDogJ2Rhc2hib2FyZCcsCiAgICBuYW1lOiAnQWRtaW5EYXNoYm9hcmQnLAogICAgY29tcG9uZW50OiBEYXNoYm9hcmQKICB9LCB7CiAgICBwYXRoOiAndXNlcnMvc3R1ZGVudCcsCiAgICBuYW1lOiAnU3R1ZGVudE1hbmFnZW1lbnQnLAogICAgY29tcG9uZW50OiBTdHVkZW50TWFuYWdlbWVudAogIH0sIHsKICAgIHBhdGg6ICd1c2Vycy90ZWFjaGVyJywKICAgIG5hbWU6ICdUZWFjaGVyTWFuYWdlbWVudCcsCiAgICBjb21wb25lbnQ6IFRlYWNoZXJNYW5hZ2VtZW50CiAgfSwgewogICAgcGF0aDogJ3Nwb3J0cy1pdGVtcycsCiAgICBuYW1lOiAnU3BvcnRzSXRlbXMnLAogICAgY29tcG9uZW50OiBTcG9ydHNJdGVtcwogIH0sIHsKICAgIHBhdGg6ICdub3RpY2VzJywKICAgIG5hbWU6ICdOb3RpY2VNYW5hZ2VtZW50JywKICAgIGNvbXBvbmVudDogTm90aWNlTWFuYWdlbWVudAogIH0sIHsKICAgIHBhdGg6ICdwcm9maWxlJywKICAgIG5hbWU6ICdBZG1pblByb2ZpbGUnLAogICAgY29tcG9uZW50OiBQcm9maWxlCiAgfSwgewogICAgcGF0aDogJ2RhdGEtcmV2aWV3JywKICAgIG5hbWU6ICdEYXRhUmV2aWV3JywKICAgIGNvbXBvbmVudDogRGF0YVJldmlldywKICAgIG1ldGE6IHsKICAgICAgdGl0bGU6ICfmlbDmja7lvZXlhaXkuI7lrqHmoLgnLAogICAgICByZXF1aXJlc0F1dGg6IHRydWUsCiAgICAgIHJvbGU6ICdBRE1JTicKICAgIH0KICB9XQp9LCB7CiAgcGF0aDogJy9hZG1pbi90ZXN0LXJlY29yZHMnLAogIG5hbWU6ICdUZXN0UmVjb3JkTGlzdCcsCiAgY29tcG9uZW50OiBUZXN0UmVjb3JkTGlzdCwKICBtZXRhOiB7CiAgICByZXF1aXJlc0F1dGg6IHRydWUsCiAgICByb2xlczogWydBRE1JTiddCiAgfQp9LCB7CiAgcGF0aDogJy9hZG1pbi91c2VycycsCiAgbmFtZTogJ1VzZXJMaXN0JywKICBjb21wb25lbnQ6IFVzZXJMaXN0LAogIG1ldGE6IHsKICAgIHJlcXVpcmVzQXV0aDogdHJ1ZSwKICAgIHJvbGVzOiBbJ0FETUlOJ10KICB9Cn0sIHsKICBwYXRoOiAnLycsCiAgcmVkaXJlY3Q6ICcvbG9naW4nCn1dOwpjb25zdCByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgcm91dGVzCn0pOwoKLy8g566A5YyW6Lev55Sx5a6I5Y2r6YC76L6RCnJvdXRlci5iZWZvcmVFYWNoKCh0bywgZnJvbSwgbmV4dCkgPT4gewogIHZhciBfdG8kbWF0Y2hlZCRmaW5kOwogIGNvbnN0IHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwogIGNvbnN0IHJlcXVpcmVzQXV0aCA9IHRvLm1hdGNoZWQuc29tZShyZWNvcmQgPT4gcmVjb3JkLm1ldGEucmVxdWlyZXNBdXRoKTsKICBpZiAoIXJlcXVpcmVzQXV0aCkgewogICAgLy8g5LiN6ZyA6KaB6K6k6K+B55qE6Lev55Sx77yM55u05o6l6YCa6L+HCiAgICBuZXh0KCk7CiAgICByZXR1cm47CiAgfQogIGlmICghdXNlcikgewogICAgLy8g6ZyA6KaB6K6k6K+B5L2G5pyq55m75b2V77yM6YeN5a6a5ZCR5Yiw55m75b2V6aG1CiAgICBuZXh0KCcvbG9naW4nKTsKICAgIHJldHVybjsKICB9CgogIC8vIOajgOafpeinkuiJsuadg+mZkAogIGNvbnN0IHJlcXVpcmVkUm9sZSA9IChfdG8kbWF0Y2hlZCRmaW5kID0gdG8ubWF0Y2hlZC5maW5kKHJlY29yZCA9PiByZWNvcmQubWV0YS5yb2xlKSkgPT09IG51bGwgfHwgX3RvJG1hdGNoZWQkZmluZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RvJG1hdGNoZWQkZmluZC5tZXRhLnJvbGU7CiAgaWYgKHJlcXVpcmVkUm9sZSAmJiByZXF1aXJlZFJvbGUgIT09IHVzZXIudXNlclR5cGUpIHsKICAgIG5leHQoJy9sb2dpbicpOwogICAgcmV0dXJuOwogIH0KICBuZXh0KCk7Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"names":["Vue","VueRouter","Login","AdminLayout","TestRecordList","UserList","Dashboard","StudentManagement","TeacherManagement","SportsItems","NoticeManagement","Profile","DataReview","use","routes","path","name","component","meta","requiresAuth","role","children","title","roles","redirect","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","_to$matched$find","user","JSON","parse","localStorage","getItem","matched","some","record","requiredRole","find","userType"],"sources":["C:/Users/HP/Desktop/sports_test/sports_front/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Login from '../views/Login.vue'\r\nimport AdminLayout from '@/layouts/AdminLayout.vue'\r\nimport TestRecordList from '@/views/admin/TestRecordList.vue'\r\nimport UserList from '@/views/admin/UserList.vue'\r\nimport Dashboard from '@/views/admin/Dashboard.vue'\r\nimport StudentManagement from '@/views/admin/StudentManagement.vue'\r\nimport TeacherManagement from '@/views/admin/TeacherManagement.vue'\r\nimport SportsItems from '@/views/admin/SportsItems.vue'\r\nimport NoticeManagement from '@/views/admin/NoticeManagement.vue'\r\nimport Profile from '@/views/admin/Profile.vue'\r\nimport DataReview from '@/views/admin/DataReview.vue'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  {\r\n    path: '/login',\r\n    name: 'Login',\r\n    component: Login,\r\n    meta: { requiresAuth: false }\r\n  },\r\n  {\r\n    path: '/admin',\r\n    component: AdminLayout,\r\n    meta: { requiresAuth: true, role: 'ADMIN' },\r\n    children: [\r\n      {\r\n        path: 'dashboard',\r\n        name: 'AdminDashboard',\r\n        component: Dashboard\r\n      },\r\n      {\r\n        path: 'users/student',\r\n        name: 'StudentManagement',\r\n        component: StudentManagement\r\n      },\r\n      {\r\n        path: 'users/teacher',\r\n        name: 'TeacherManagement',\r\n        component: TeacherManagement\r\n      },\r\n      {\r\n        path: 'sports-items',\r\n        name: 'SportsItems',\r\n        component: SportsItems\r\n      },\r\n      {\r\n        path: 'notices',\r\n        name: 'NoticeManagement',\r\n        component: NoticeManagement\r\n      },\r\n      {\r\n        path: 'profile',\r\n        name: 'AdminProfile',\r\n        component: Profile\r\n      },\r\n      {\r\n        path: 'data-review',\r\n        name: 'DataReview',\r\n        component: DataReview,\r\n        meta: {\r\n          title: '数据录入与审核',\r\n          requiresAuth: true,\r\n          role: 'ADMIN'\r\n        }\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/admin/test-records',\r\n    name: 'TestRecordList',\r\n    component: TestRecordList,\r\n    meta: { requiresAuth: true, roles: ['ADMIN'] }\r\n  },\r\n  {\r\n    path: '/admin/users',\r\n    name: 'UserList',\r\n    component: UserList,\r\n    meta: { requiresAuth: true, roles: ['ADMIN'] }\r\n  },\r\n  {\r\n    path: '/',\r\n    redirect: '/login'\r\n  }\r\n]\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: process.env.BASE_URL,\r\n  routes\r\n})\r\n\r\n// 简化路由守卫逻辑\r\nrouter.beforeEach((to, from, next) => {\r\n  const user = JSON.parse(localStorage.getItem('user'))\r\n  const requiresAuth = to.matched.some(record => record.meta.requiresAuth)\r\n  \r\n  if (!requiresAuth) {\r\n    // 不需要认证的路由，直接通过\r\n    next()\r\n    return\r\n  }\r\n\r\n  if (!user) {\r\n    // 需要认证但未登录，重定向到登录页\r\n    next('/login')\r\n    return\r\n  }\r\n\r\n  // 检查角色权限\r\n  const requiredRole = to.matched.find(record => record.meta.role)?.meta.role\r\n  if (requiredRole && requiredRole !== user.userType) {\r\n    next('/login')\r\n    return\r\n  }\r\n\r\n  next()\r\n})\r\n\r\nexport default router "],"mappings":"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","ignoreList":[]}]}