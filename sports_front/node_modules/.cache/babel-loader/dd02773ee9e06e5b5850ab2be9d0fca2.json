{"remainingRequest":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\src\\views\\teacher\\ClassStats.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\src\\views\\teacher\\ClassStats.vue","mtime":1741774780761},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\babel.config.js","mtime":1741355860000},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741355860000},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\babel-loader\\lib\\index.js","mtime":1741355860000},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741355860000},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\vue-loader\\lib\\index.js","mtime":1741355860000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5tYXAuanMiOwppbXBvcnQgKiBhcyBlY2hhcnRzIGZyb20gJ2VjaGFydHMnOwppbXBvcnQgeyBnZXRDbGFzc1N0YXRzLCBnZXRUZXN0UmVjb3JkcyB9IGZyb20gJ0AvYXBpL3RlYWNoZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NsYXNzU3RhdHMnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDmn6Xor6Llj4LmlbAKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBzcG9ydHNJdGVtSWQ6ICcnLAogICAgICAgIGNsYXNzTmFtZTogJycsCiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMTAKICAgICAgfSwKICAgICAgLy8g57uf6K6h5pWw5o2uCiAgICAgIHN0YXRzOiB7CiAgICAgICAgYXZlcmFnZVNjb3JlOiAwLAogICAgICAgIGV4Y2VsbGVudFJhdGU6IDAsCiAgICAgICAgcGFzc1JhdGU6IDAsCiAgICAgICAgdG90YWxTdHVkZW50czogMAogICAgICB9LAogICAgICAvLyDooajmoLzmlbDmja4KICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgdG90YWw6IDAsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAvLyDkuIvmi4npgInpobkKICAgICAgc3BvcnRzSXRlbXM6IFtdLAogICAgICBjbGFzc0xpc3Q6IFtdLAogICAgICAvLyDlm77ooajlrp7kvosKICAgICAgc2NvcmVEaXN0Q2hhcnQ6IG51bGwsCiAgICAgIGNsYXNzQ29tcGFyZUNoYXJ0OiBudWxsCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgdGhpcy5nZXRTcG9ydHNJdGVtcygpOwogICAgdGhpcy5nZXRDbGFzc0xpc3QoKTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRDaGFydHMoKTsKICAgIC8vIOebkeWQrOeql+WPo+Wkp+Wwj+WPmOWMlu+8jOmHjee7mOWbvuihqAogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplQ2hhcnRzKTsKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemVDaGFydHMpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W5pWw5o2u5YiX6KGoCiAgICBhc3luYyBnZXRMaXN0KCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdldENsYXNzU3RhdHModGhpcy5xdWVyeVBhcmFtcyk7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICB0aGlzLnN0YXRzID0gZGF0YS5zdGF0czsKICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gZGF0YS5yZWNvcmRzOwogICAgICAgICAgdGhpcy50b3RhbCA9IGRhdGEudG90YWw7CiAgICAgICAgICB0aGlzLnVwZGF0ZUNoYXJ0cyhkYXRhKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign6I635Y+W5pWw5o2u5aSx6LSlOicsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5bmlbDmja7lpLHotKUnKTsKICAgICAgfQogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDliJ3lp4vljJblm77ooagKICAgIGluaXRDaGFydHMoKSB7CiAgICAgIHRoaXMuc2NvcmVEaXN0Q2hhcnQgPSBlY2hhcnRzLmluaXQodGhpcy4kcmVmcy5zY29yZURpc3RDaGFydCk7CiAgICAgIHRoaXMuY2xhc3NDb21wYXJlQ2hhcnQgPSBlY2hhcnRzLmluaXQodGhpcy4kcmVmcy5jbGFzc0NvbXBhcmVDaGFydCk7CgogICAgICAvLyDorr7nva7liJ3lp4vphY3nva4KICAgICAgdGhpcy51cGRhdGVDaGFydHMoewogICAgICAgIHNjb3JlRGlzdDogW10sCiAgICAgICAgY2xhc3NDb21wYXJlOiBbXQogICAgICB9KTsKICAgIH0sCiAgICAvLyDmm7TmlrDlm77ooajmlbDmja4KICAgIHVwZGF0ZUNoYXJ0cyhkYXRhKSB7CiAgICAgIHZhciBfZGF0YSRjbGFzc0NvbXBhcmUsIF9kYXRhJGNsYXNzQ29tcGFyZTI7CiAgICAgIC8vIOaIkOe7qeWIhuW4g+WbvumFjee9rgogICAgICBjb25zdCBzY29yZURpc3RPcHRpb24gPSB7CiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIHRleHQ6ICfmiJDnu6nliIbluIMnCiAgICAgICAgfSwKICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICB0cmlnZ2VyOiAnYXhpcycKICAgICAgICB9LAogICAgICAgIHhBeGlzOiB7CiAgICAgICAgICB0eXBlOiAnY2F0ZWdvcnknLAogICAgICAgICAgZGF0YTogWyfkuI3lj4rmoLwnLCAn5Y+K5qC8JywgJ+iJr+WlvScsICfkvJjnp4AnXQogICAgICAgIH0sCiAgICAgICAgeUF4aXM6IHsKICAgICAgICAgIHR5cGU6ICd2YWx1ZScKICAgICAgICB9LAogICAgICAgIHNlcmllczogW3sKICAgICAgICAgIGRhdGE6IGRhdGEuc2NvcmVEaXN0IHx8IFswLCAwLCAwLCAwXSwKICAgICAgICAgIHR5cGU6ICdiYXInCiAgICAgICAgfV0KICAgICAgfTsKCiAgICAgIC8vIOePree6p+WvueavlOWbvumFjee9rgogICAgICBjb25zdCBjbGFzc0NvbXBhcmVPcHRpb24gPSB7CiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIHRleHQ6ICfnj63nuqflubPlnYfliIblr7nmr5QnCiAgICAgICAgfSwKICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICB0cmlnZ2VyOiAnYXhpcycKICAgICAgICB9LAogICAgICAgIHhBeGlzOiB7CiAgICAgICAgICB0eXBlOiAnY2F0ZWdvcnknLAogICAgICAgICAgZGF0YTogKChfZGF0YSRjbGFzc0NvbXBhcmUgPSBkYXRhLmNsYXNzQ29tcGFyZSkgPT09IG51bGwgfHwgX2RhdGEkY2xhc3NDb21wYXJlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGF0YSRjbGFzc0NvbXBhcmUubWFwKGl0ZW0gPT4gaXRlbS5jbGFzc05hbWUpKSB8fCBbXQogICAgICAgIH0sCiAgICAgICAgeUF4aXM6IHsKICAgICAgICAgIHR5cGU6ICd2YWx1ZScKICAgICAgICB9LAogICAgICAgIHNlcmllczogW3sKICAgICAgICAgIGRhdGE6ICgoX2RhdGEkY2xhc3NDb21wYXJlMiA9IGRhdGEuY2xhc3NDb21wYXJlKSA9PT0gbnVsbCB8fCBfZGF0YSRjbGFzc0NvbXBhcmUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGF0YSRjbGFzc0NvbXBhcmUyLm1hcChpdGVtID0+IGl0ZW0uYXZlcmFnZVNjb3JlKSkgfHwgW10sCiAgICAgICAgICB0eXBlOiAnYmFyJwogICAgICAgIH1dCiAgICAgIH07CiAgICAgIHRoaXMuc2NvcmVEaXN0Q2hhcnQuc2V0T3B0aW9uKHNjb3JlRGlzdE9wdGlvbik7CiAgICAgIHRoaXMuY2xhc3NDb21wYXJlQ2hhcnQuc2V0T3B0aW9uKGNsYXNzQ29tcGFyZU9wdGlvbik7CiAgICB9LAogICAgLy8g6YeN57uY5Zu+6KGoCiAgICByZXNpemVDaGFydHMoKSB7CiAgICAgIHZhciBfdGhpcyRzY29yZURpc3RDaGFydCwgX3RoaXMkY2xhc3NDb21wYXJlQ2hhOwogICAgICAoX3RoaXMkc2NvcmVEaXN0Q2hhcnQgPSB0aGlzLnNjb3JlRGlzdENoYXJ0KSA9PT0gbnVsbCB8fCBfdGhpcyRzY29yZURpc3RDaGFydCA9PT0gdm9pZCAwIHx8IF90aGlzJHNjb3JlRGlzdENoYXJ0LnJlc2l6ZSgpOwogICAgICAoX3RoaXMkY2xhc3NDb21wYXJlQ2hhID0gdGhpcy5jbGFzc0NvbXBhcmVDaGFydCkgPT09IG51bGwgfHwgX3RoaXMkY2xhc3NDb21wYXJlQ2hhID09PSB2b2lkIDAgfHwgX3RoaXMkY2xhc3NDb21wYXJlQ2hhLnJlc2l6ZSgpOwogICAgfSwKICAgIC8vIOiOt+WPluS9k+iCsumhueebruWIl+ihqAogICAgYXN5bmMgZ2V0U3BvcnRzSXRlbXMoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgLy8gVE9ETzog6LCD55So6I635Y+W5L2T6IKy6aG555uu5YiX6KGo55qEQVBJCiAgICAgICAgdGhpcy5zcG9ydHNJdGVtcyA9IFtdOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluS9k+iCsumhueebruWIl+ihqOWksei0pTonLCBlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICAvLyDojrflj5bnj63nuqfliJfooagKICAgIGFzeW5jIGdldENsYXNzTGlzdCgpIHsKICAgICAgdHJ5IHsKICAgICAgICAvLyBUT0RPOiDosIPnlKjojrflj5bnj63nuqfliJfooajnmoRBUEkKICAgICAgICB0aGlzLmNsYXNzTGlzdCA9IFtdOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluePree6p+WIl+ihqOWksei0pTonLCBlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmn6Xor6LmjInpkq7ngrnlh7sKICAgIGhhbmRsZVF1ZXJ5KCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VOdW0gPSAxOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDph43nva7mjInpkq7ngrnlh7sKICAgIHJlc2V0UXVlcnkoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMgPSB7CiAgICAgICAgc3BvcnRzSXRlbUlkOiAnJywKICAgICAgICBjbGFzc05hbWU6ICcnLAogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IDEwCiAgICAgIH07CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOWvvOWHuuaVsOaNrgogICAgaGFuZGxlRXhwb3J0KCkgewogICAgICAvLyBUT0RPOiDlrp7njrDlr7zlh7rlip/og70KICAgIH0sCiAgICAvLyDliIbpobXlpKflsI/mlLnlj5gKICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZVNpemUgPSB2YWw7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOmhteeggeaUueWPmAogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gdmFsOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDojrflj5bmiJDnu6nnrYnnuqfmoLflvI8KICAgIGdldEdyYWRlVHlwZShncmFkZSkgewogICAgICBjb25zdCBncmFkZU1hcCA9IHsKICAgICAgICAn5LyY56eAJzogJ3N1Y2Nlc3MnLAogICAgICAgICfoia/lpb0nOiAnJywKICAgICAgICAn5Y+K5qC8JzogJ3dhcm5pbmcnLAogICAgICAgICfkuI3lj4rmoLwnOiAnZGFuZ2VyJwogICAgICB9OwogICAgICByZXR1cm4gZ3JhZGVNYXBbZ3JhZGVdIHx8ICcnOwogICAgfSwKICAgIC8vIOagvOW8j+WMluaXpeacn+aXtumXtAogICAgZm9ybWF0RGF0ZVRpbWUoZGF0ZXRpbWUpIHsKICAgICAgaWYgKCFkYXRldGltZSkgcmV0dXJuICctJzsKICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGV0aW1lKTsKICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVTdHJpbmcoJ3poLUNOJywgewogICAgICAgIHllYXI6ICdudW1lcmljJywKICAgICAgICBtb250aDogJzItZGlnaXQnLAogICAgICAgIGRheTogJzItZGlnaXQnLAogICAgICAgIGhvdXI6ICcyLWRpZ2l0JywKICAgICAgICBtaW51dGU6ICcyLWRpZ2l0JywKICAgICAgICBzZWNvbmQ6ICcyLWRpZ2l0JywKICAgICAgICBob3VyMTI6IGZhbHNlCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["echarts","getClassStats","getTestRecords","name","data","queryParams","sportsItemId","className","pageNum","pageSize","stats","averageScore","excellentRate","passRate","totalStudents","tableData","total","loading","sportsItems","classList","scoreDistChart","classCompareChart","created","getList","getSportsItems","getClassList","mounted","initCharts","window","addEventListener","resizeCharts","beforeDestroy","removeEventListener","methods","res","code","records","updateCharts","error","console","$message","init","$refs","scoreDist","classCompare","_data$classCompare","_data$classCompare2","scoreDistOption","title","text","tooltip","trigger","xAxis","type","yAxis","series","classCompareOption","map","item","setOption","_this$scoreDistChart","_this$classCompareCha","resize","handleQuery","resetQuery","handleExport","handleSizeChange","val","handleCurrentChange","getGradeType","grade","gradeMap","formatDateTime","datetime","date","Date","toLocaleString","year","month","day","hour","minute","second","hour12"],"sources":["src/views/teacher/ClassStats.vue"],"sourcesContent":["<template>\r\n  <div class=\"class-stats\">\r\n    <!-- 筛选区域 -->\r\n    <div class=\"filter-section\">\r\n      <el-form :inline=\"true\" :model=\"queryParams\" ref=\"queryForm\">\r\n        <el-form-item label=\"测试项目\">\r\n          <el-select v-model=\"queryParams.sportsItemId\" placeholder=\"选择测试项目\" clearable>\r\n            <el-option\r\n              v-for=\"item in sportsItems\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.id\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"班级\">\r\n          <el-select v-model=\"queryParams.className\" placeholder=\"选择班级\" clearable>\r\n            <el-option\r\n              v-for=\"item in classList\"\r\n              :key=\"item\"\r\n              :label=\"item\"\r\n              :value=\"item\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"handleQuery\">查询</el-button>\r\n          <el-button @click=\"resetQuery\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!-- 统计卡片 -->\r\n    <el-row :gutter=\"20\" class=\"stats-cards\">\r\n      <el-col :span=\"6\">\r\n        <el-card shadow=\"hover\">\r\n          <div slot=\"header\">\r\n            <span>平均分</span>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            {{ stats.averageScore || '0.00' }}\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"6\">\r\n        <el-card shadow=\"hover\">\r\n          <div slot=\"header\">\r\n            <span>优秀率</span>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            {{ stats.excellentRate || '0.00' }}%\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"6\">\r\n        <el-card shadow=\"hover\">\r\n          <div slot=\"header\">\r\n            <span>合格率</span>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            {{ stats.passRate || '0.00' }}%\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"6\">\r\n        <el-card shadow=\"hover\">\r\n          <div slot=\"header\">\r\n            <span>参测人数</span>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            {{ stats.totalStudents || '0' }}\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- 图表展示 -->\r\n    <el-row :gutter=\"20\" class=\"charts-section\">\r\n      <el-col :span=\"12\">\r\n        <el-card shadow=\"hover\">\r\n          <div slot=\"header\">\r\n            <span>成绩分布</span>\r\n          </div>\r\n          <div class=\"chart-container\">\r\n            <div ref=\"scoreDistChart\" style=\"height: 300px\"></div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"12\">\r\n        <el-card shadow=\"hover\">\r\n          <div slot=\"header\">\r\n            <span>班级对比</span>\r\n          </div>\r\n          <div class=\"chart-container\">\r\n            <div ref=\"classCompareChart\" style=\"height: 300px\"></div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- 详细数据表格 -->\r\n    <el-card class=\"table-card\">\r\n      <div slot=\"header\">\r\n        <span>详细数据</span>\r\n        <el-button\r\n          style=\"float: right; padding: 3px 0\"\r\n          type=\"text\"\r\n          @click=\"handleExport\"\r\n        >导出Excel</el-button>\r\n      </div>\r\n      <el-table\r\n        v-loading=\"loading\"\r\n        :data=\"tableData\"\r\n        border\r\n        stripe\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column label=\"班级\" prop=\"className\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"学号\" prop=\"studentNumber\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"姓名\" prop=\"studentName\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"成绩\" prop=\"score\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"等级\" prop=\"grade\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag :type=\"getGradeType(scope.row.grade)\">{{ scope.row.grade }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"测试时间\" prop=\"testTime\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            {{ formatDateTime(scope.row.testTime) }}\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 分页 -->\r\n      <div class=\"pagination-container\">\r\n        <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"queryParams.pageNum\"\r\n          :page-sizes=\"[10, 20, 50, 100]\"\r\n          :page-size=\"queryParams.pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\">\r\n        </el-pagination>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from 'echarts'\r\nimport { getClassStats, getTestRecords } from '@/api/teacher'\r\n\r\nexport default {\r\n  name: 'ClassStats',\r\n  data() {\r\n    return {\r\n      // 查询参数\r\n      queryParams: {\r\n        sportsItemId: '',\r\n        className: '',\r\n        pageNum: 1,\r\n        pageSize: 10\r\n      },\r\n      // 统计数据\r\n      stats: {\r\n        averageScore: 0,\r\n        excellentRate: 0,\r\n        passRate: 0,\r\n        totalStudents: 0\r\n      },\r\n      // 表格数据\r\n      tableData: [],\r\n      total: 0,\r\n      loading: false,\r\n      // 下拉选项\r\n      sportsItems: [],\r\n      classList: [],\r\n      // 图表实例\r\n      scoreDistChart: null,\r\n      classCompareChart: null\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n    this.getSportsItems()\r\n    this.getClassList()\r\n  },\r\n  mounted() {\r\n    this.initCharts()\r\n    // 监听窗口大小变化，重绘图表\r\n    window.addEventListener('resize', this.resizeCharts)\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener('resize', this.resizeCharts)\r\n  },\r\n  methods: {\r\n    // 获取数据列表\r\n    async getList() {\r\n      this.loading = true\r\n      try {\r\n        const res = await getClassStats(this.queryParams)\r\n        if (res.data.code === 200) {\r\n          const data = res.data.data\r\n          this.stats = data.stats\r\n          this.tableData = data.records\r\n          this.total = data.total\r\n          this.updateCharts(data)\r\n        }\r\n      } catch (error) {\r\n        console.error('获取数据失败:', error)\r\n        this.$message.error('获取数据失败')\r\n      }\r\n      this.loading = false\r\n    },\r\n\r\n    // 初始化图表\r\n    initCharts() {\r\n      this.scoreDistChart = echarts.init(this.$refs.scoreDistChart)\r\n      this.classCompareChart = echarts.init(this.$refs.classCompareChart)\r\n      \r\n      // 设置初始配置\r\n      this.updateCharts({\r\n        scoreDist: [],\r\n        classCompare: []\r\n      })\r\n    },\r\n\r\n    // 更新图表数据\r\n    updateCharts(data) {\r\n      // 成绩分布图配置\r\n      const scoreDistOption = {\r\n        title: {\r\n          text: '成绩分布'\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis'\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          data: ['不及格', '及格', '良好', '优秀']\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: [{\r\n          data: data.scoreDist || [0, 0, 0, 0],\r\n          type: 'bar'\r\n        }]\r\n      }\r\n      \r\n      // 班级对比图配置\r\n      const classCompareOption = {\r\n        title: {\r\n          text: '班级平均分对比'\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis'\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          data: data.classCompare?.map(item => item.className) || []\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: [{\r\n          data: data.classCompare?.map(item => item.averageScore) || [],\r\n          type: 'bar'\r\n        }]\r\n      }\r\n      \r\n      this.scoreDistChart.setOption(scoreDistOption)\r\n      this.classCompareChart.setOption(classCompareOption)\r\n    },\r\n\r\n    // 重绘图表\r\n    resizeCharts() {\r\n      this.scoreDistChart?.resize()\r\n      this.classCompareChart?.resize()\r\n    },\r\n\r\n    // 获取体育项目列表\r\n    async getSportsItems() {\r\n      try {\r\n        // TODO: 调用获取体育项目列表的API\r\n        this.sportsItems = []\r\n      } catch (error) {\r\n        console.error('获取体育项目列表失败:', error)\r\n      }\r\n    },\r\n\r\n    // 获取班级列表\r\n    async getClassList() {\r\n      try {\r\n        // TODO: 调用获取班级列表的API\r\n        this.classList = []\r\n      } catch (error) {\r\n        console.error('获取班级列表失败:', error)\r\n      }\r\n    },\r\n\r\n    // 查询按钮点击\r\n    handleQuery() {\r\n      this.queryParams.pageNum = 1\r\n      this.getList()\r\n    },\r\n\r\n    // 重置按钮点击\r\n    resetQuery() {\r\n      this.queryParams = {\r\n        sportsItemId: '',\r\n        className: '',\r\n        pageNum: 1,\r\n        pageSize: 10\r\n      }\r\n      this.getList()\r\n    },\r\n\r\n    // 导出数据\r\n    handleExport() {\r\n      // TODO: 实现导出功能\r\n    },\r\n\r\n    // 分页大小改变\r\n    handleSizeChange(val) {\r\n      this.queryParams.pageSize = val\r\n      this.getList()\r\n    },\r\n\r\n    // 页码改变\r\n    handleCurrentChange(val) {\r\n      this.queryParams.pageNum = val\r\n      this.getList()\r\n    },\r\n\r\n    // 获取成绩等级样式\r\n    getGradeType(grade) {\r\n      const gradeMap = {\r\n        '优秀': 'success',\r\n        '良好': '',\r\n        '及格': 'warning',\r\n        '不及格': 'danger'\r\n      }\r\n      return gradeMap[grade] || ''\r\n    },\r\n\r\n    // 格式化日期时间\r\n    formatDateTime(datetime) {\r\n      if (!datetime) return '-'\r\n      const date = new Date(datetime)\r\n      return date.toLocaleString('zh-CN', {\r\n        year: 'numeric',\r\n        month: '2-digit',\r\n        day: '2-digit',\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n        second: '2-digit',\r\n        hour12: false\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.class-stats {\r\n  padding: 20px;\r\n}\r\n\r\n.filter-section {\r\n  background-color: #f5f7fa;\r\n  padding: 20px;\r\n  border-radius: 4px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.stats-cards {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card-content {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  color: #409EFF;\r\n}\r\n\r\n.charts-section {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.chart-container {\r\n  padding: 10px;\r\n}\r\n\r\n.table-card {\r\n  margin-top: 20px;\r\n}\r\n\r\n.pagination-container {\r\n  margin-top: 20px;\r\n  text-align: right;\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]}]}