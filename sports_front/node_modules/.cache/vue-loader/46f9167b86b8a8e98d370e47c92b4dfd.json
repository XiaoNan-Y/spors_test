{"remainingRequest":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\src\\views\\teacher\\Dashboard.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\src\\views\\teacher\\Dashboard.vue","mtime":1742295245442},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741946992817},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\babel-loader\\lib\\index.js","mtime":1741946991478},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741946992817},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\vue-loader\\lib\\index.js","mtime":1741947007540}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdUZWFjaGVyRGFzaGJvYXJkJywNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdGVhY2hlck5hbWU6ICcnLA0KICAgICAgY3VycmVudERhdGU6ICcnLA0KICAgICAgc3RhdHM6IHsNCiAgICAgICAgY2xhc3NDb3VudDogMCwNCiAgICAgICAgdGVzdENvbXBsZXRpb25SYXRlOiAwLA0KICAgICAgICBwYXNzUmF0ZTogMCwNCiAgICAgICAgcGVuZGluZ1JlY29yZHM6IDAsDQogICAgICAgIHdlZWtseVJlY29yZHM6IDAsDQogICAgICAgIHBlbmRpbmdSZXZpZXdzOiAwLA0KICAgICAgICB3ZWVrbHlSZXZpZXdlZDogMCwNCiAgICAgICAgdG90YWxTdHVkZW50czogMCwNCiAgICAgICAgbGF0ZXN0Tm90aWNlczogMCwNCiAgICAgICAgd2Vla2x5Tm90aWNlczogMCwNCiAgICAgICAgcmVjZW50QWN0aXZpdGllczogW10NCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5pbml0RGF0YSgpDQogICAgdGhpcy5mZXRjaERhc2hib2FyZFN0YXRzKCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGluaXREYXRhKCkgew0KICAgICAgY29uc3QgdXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKSkNCiAgICAgIHRoaXMudGVhY2hlck5hbWUgPSB1c2VyID8gdXNlci5yZWFsTmFtZSB8fCB1c2VyLnVzZXJuYW1lIDogJ+iAgeW4iCcNCiAgICAgIHRoaXMuY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygnemgtQ04nLCB7DQogICAgICAgIHllYXI6ICdudW1lcmljJywNCiAgICAgICAgbW9udGg6ICdsb25nJywNCiAgICAgICAgZGF5OiAnbnVtZXJpYycsDQogICAgICAgIHdlZWtkYXk6ICdsb25nJw0KICAgICAgfSkNCiAgICB9LA0KICAgIGFzeW5jIGZldGNoRGFzaGJvYXJkU3RhdHMoKSB7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCcvYXBpL3RlYWNoZXIvZGFzaGJvYXJkL3N0YXRzJykNCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgdGhpcy5zdGF0cyA9IHsgLi4udGhpcy5zdGF0cywgLi4ucmVzcG9uc2UuZGF0YS5kYXRhIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5bnu5/orqHmlbDmja7lpLHotKUnKQ0KICAgICAgICB9DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5bnu5/orqHmlbDmja7lpLHotKU6JywgZXJyb3IpDQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPlue7n+iuoeaVsOaNruWksei0pScpDQogICAgICB9DQogICAgfSwNCiAgICBuYXZpZ2F0ZVRvKHBhdGgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHBhdGgpDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";AAoJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/views/teacher","sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <!-- 欢迎信息 -->\r\n    <div class=\"welcome-section\">\r\n      <h2>欢迎回来，{{ teacherName }}</h2>\r\n      <p>{{ currentDate }}</p>\r\n    </div>\r\n\r\n    <!-- 功能模块卡片 -->\r\n    <el-row :gutter=\"20\">\r\n      <!-- 班级成绩统计 -->\r\n      <el-col :span=\"8\">\r\n        <el-card shadow=\"hover\" class=\"module-card\" @click=\"navigateTo('/teacher/class-stats')\">\r\n          <div class=\"module-content\">\r\n            <i class=\"el-icon-s-data module-icon\"></i>\r\n            <div class=\"module-info\">\r\n              <h3>班级成绩统计</h3>\r\n              <div class=\"stats-info\">\r\n                <div class=\"stat-item\">\r\n                  <span class=\"stat-label\">班级数量</span>\r\n                  <span class=\"stat-value\">{{ stats.classCount || 0 }}</span>\r\n                </div>\r\n                <div class=\"stat-item\">\r\n                  <span class=\"stat-label\">测试完成率</span>\r\n                  <span class=\"stat-value\">{{ stats.testCompletionRate || 0 }}%</span>\r\n                </div>\r\n                <div class=\"stat-item\">\r\n                  <span class=\"stat-label\">及格率</span>\r\n                  <span class=\"stat-value\">{{ stats.passRate || 0 }}%</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <!-- 学生成绩管理 -->\r\n      <el-col :span=\"8\">\r\n        <el-card shadow=\"hover\" class=\"module-card\" @click=\"navigateTo('/teacher/student-records')\">\r\n          <div class=\"module-content\">\r\n            <i class=\"el-icon-document module-icon\"></i>\r\n            <div class=\"module-info\">\r\n              <h3>学生成绩管理</h3>\r\n              <div class=\"stats-info\">\r\n                <div class=\"stat-item\">\r\n                  <span class=\"stat-label\">待录入成绩</span>\r\n                  <span class=\"stat-value warning\">{{ stats.pendingRecords || 0 }}</span>\r\n                </div>\r\n                <div class=\"stat-item\">\r\n                  <span class=\"stat-label\">本周已录入</span>\r\n                  <span class=\"stat-value\">{{ stats.weeklyRecords || 0 }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <!-- 免测/重测审核 -->\r\n      <el-col :span=\"8\">\r\n        <el-card shadow=\"hover\" class=\"module-card\" @click=\"navigateTo('/teacher/exemption-review')\">\r\n          <div class=\"module-content\">\r\n            <i class=\"el-icon-document-checked module-icon\"></i>\r\n            <div class=\"module-info\">\r\n              <h3>免测/重测审核</h3>\r\n              <div class=\"stats-info\">\r\n                <div class=\"stat-item\">\r\n                  <span class=\"stat-label\">待审核申请</span>\r\n                  <span class=\"stat-value warning\">{{ stats.pendingReviews || 0 }}</span>\r\n                </div>\r\n                <div class=\"stat-item\">\r\n                  <span class=\"stat-label\">本周已审核</span>\r\n                  <span class=\"stat-value\">{{ stats.weeklyReviewed || 0 }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <!-- 学生管理 -->\r\n      <el-col :span=\"8\">\r\n        <el-card shadow=\"hover\" class=\"module-card\" @click=\"navigateTo('/teacher/student-management')\">\r\n          <div class=\"module-content\">\r\n            <i class=\"el-icon-user-solid module-icon\"></i>\r\n            <div class=\"module-info\">\r\n              <h3>学生管理</h3>\r\n              <div class=\"stats-info\">\r\n                <div class=\"stat-item\">\r\n                  <span class=\"stat-label\">总学生数</span>\r\n                  <span class=\"stat-value\">{{ stats.totalStudents || 0 }}</span>\r\n                </div>\r\n                <div class=\"stat-item\">\r\n                  <span class=\"stat-label\">班级数</span>\r\n                  <span class=\"stat-value\">{{ stats.classCount || 0 }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <!-- 通知管理 -->\r\n      <el-col :span=\"8\">\r\n        <el-card shadow=\"hover\" class=\"module-card\" @click=\"navigateTo('/teacher/notice-management')\">\r\n          <div class=\"module-content\">\r\n            <i class=\"el-icon-bell module-icon\"></i>\r\n            <div class=\"module-info\">\r\n              <h3>通知管理</h3>\r\n              <div class=\"stats-info\">\r\n                <div class=\"stat-item\">\r\n                  <span class=\"stat-label\">最新通知</span>\r\n                  <span class=\"stat-value\">{{ stats.latestNotices || 0 }}</span>\r\n                </div>\r\n                <div class=\"stat-item\">\r\n                  <span class=\"stat-label\">本周发布</span>\r\n                  <span class=\"stat-value\">{{ stats.weeklyNotices || 0 }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <!-- 近期活动 -->\r\n      <el-col :span=\"8\">\r\n        <el-card shadow=\"hover\" class=\"module-card\">\r\n          <div class=\"module-content\">\r\n            <i class=\"el-icon-date module-icon\"></i>\r\n            <div class=\"module-info\">\r\n              <h3>近期活动</h3>\r\n              <div class=\"activity-list\" v-if=\"stats.recentActivities && stats.recentActivities.length\">\r\n                <div v-for=\"(activity, index) in stats.recentActivities\" :key=\"index\" class=\"activity-item\">\r\n                  {{ activity.name }} - {{ activity.date }}\r\n                </div>\r\n              </div>\r\n              <div v-else class=\"no-activity\">\r\n                暂无近期活动\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TeacherDashboard',\r\n  data() {\r\n    return {\r\n      teacherName: '',\r\n      currentDate: '',\r\n      stats: {\r\n        classCount: 0,\r\n        testCompletionRate: 0,\r\n        passRate: 0,\r\n        pendingRecords: 0,\r\n        weeklyRecords: 0,\r\n        pendingReviews: 0,\r\n        weeklyReviewed: 0,\r\n        totalStudents: 0,\r\n        latestNotices: 0,\r\n        weeklyNotices: 0,\r\n        recentActivities: []\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.initData()\r\n    this.fetchDashboardStats()\r\n  },\r\n  methods: {\r\n    initData() {\r\n      const user = JSON.parse(localStorage.getItem('user'))\r\n      this.teacherName = user ? user.realName || user.username : '老师'\r\n      this.currentDate = new Date().toLocaleDateString('zh-CN', {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric',\r\n        weekday: 'long'\r\n      })\r\n    },\r\n    async fetchDashboardStats() {\r\n      try {\r\n        const response = await this.$http.get('/api/teacher/dashboard/stats')\r\n        if (response.data.code === 200) {\r\n          this.stats = { ...this.stats, ...response.data.data }\r\n        } else {\r\n          this.$message.error('获取统计数据失败')\r\n        }\r\n      } catch (error) {\r\n        console.error('获取统计数据失败:', error)\r\n        this.$message.error('获取统计数据失败')\r\n      }\r\n    },\r\n    navigateTo(path) {\r\n      this.$router.push(path)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dashboard-container {\r\n  padding: 20px;\r\n}\r\n\r\n.welcome-section {\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.welcome-section h2 {\r\n  margin: 0;\r\n  font-size: 24px;\r\n  color: #303133;\r\n}\r\n\r\n.welcome-section p {\r\n  margin: 8px 0 0;\r\n  color: #909399;\r\n}\r\n\r\n.module-card {\r\n  height: 180px;\r\n  margin-bottom: 20px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.module-card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.module-content {\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  padding: 20px;\r\n}\r\n\r\n.module-icon {\r\n  font-size: 48px;\r\n  margin-right: 20px;\r\n  color: #409EFF;\r\n}\r\n\r\n.module-info {\r\n  flex: 1;\r\n}\r\n\r\n.module-info h3 {\r\n  margin: 0 0 15px 0;\r\n  font-size: 18px;\r\n  color: #303133;\r\n}\r\n\r\n.stats-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.stat-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.stat-label {\r\n  color: #909399;\r\n  font-size: 14px;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #409EFF;\r\n}\r\n\r\n.stat-value.warning {\r\n  color: #E6A23C;\r\n}\r\n\r\n.activity-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.activity-item {\r\n  font-size: 14px;\r\n  color: #606266;\r\n}\r\n\r\n.no-activity {\r\n  color: #909399;\r\n  font-size: 14px;\r\n}\r\n</style> "]}]}