{"remainingRequest":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\src\\views\\admin\\DataReview.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\src\\views\\admin\\DataReview.vue","mtime":1741355732195},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739346865238},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\babel-loader\\lib\\index.js","mtime":1739346847767},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739346865238},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\vue-loader\\lib\\index.js","mtime":1739346848059}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRGF0YVJldmlldycsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbHRlckZvcm06IHsKICAgICAgICBzcG9ydHNJdGVtSWQ6ICcnLAogICAgICAgIHRlYWNoZXJJZDogJycsCiAgICAgICAgc3RhdHVzOiAnJywKICAgICAgICBkYXRlUmFuZ2U6IFtdCiAgICAgIH0sCiAgICAgIHNwb3J0c0l0ZW1zOiBbXSwKICAgICAgdGVhY2hlcnM6IFtdLAogICAgICByZWNvcmRMaXN0OiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHBhZ2U6IHsKICAgICAgICBjdXJyZW50OiAxLAogICAgICAgIHNpemU6IDEwLAogICAgICAgIHRvdGFsOiAwCiAgICAgIH0sCiAgICAgIHJldmlld0RpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBkZXRhaWxEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZWRpdERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBjdXJyZW50UmVjb3JkOiBudWxsLAogICAgICByZXZpZXdUeXBlOiAnJywKICAgICAgcmV2aWV3Rm9ybTogewogICAgICAgIHJldmlld0NvbW1lbnQ6ICcnCiAgICAgIH0sCiAgICAgIHJldmlld1J1bGVzOiB7CiAgICAgICAgcmV2aWV3Q29tbWVudDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpemps+WbnuWOn+WboCcsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXQogICAgICB9LAogICAgICBlZGl0Rm9ybTogewogICAgICAgIHN0dWRlbnRJZDogJycsCiAgICAgICAgc3BvcnRzSXRlbUlkOiAnJywKICAgICAgICBzY29yZTogMCwKICAgICAgICB0ZXN0VGltZTogJycsCiAgICAgICAgc3RhdHVzOiAnJywKICAgICAgICByZXZpZXdDb21tZW50OiAnJwogICAgICB9LAogICAgICBlZGl0UnVsZXM6IHsKICAgICAgICBzdHVkZW50SWQ6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5a2m55SfJywgdHJpZ2dlcjogJ2NoYW5nZScgfV0sCiAgICAgICAgdGVhY2hlcklkOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeaVmeW4iCcsIHRyaWdnZXI6ICdjaGFuZ2UnIH1dLAogICAgICAgIHNwb3J0c0l0ZW1JZDogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nmtYvor5Xpobnnm64nLCB0cmlnZ2VyOiAnY2hhbmdlJyB9XSwKICAgICAgICBzY29yZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXmiJDnu6knLCB0cmlnZ2VyOiAnYmx1cicgfV0sCiAgICAgICAgdGVzdFRpbWU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5rWL6K+V5pe26Ze0JywgdHJpZ2dlcjogJ2NoYW5nZScgfV0KICAgICAgfSwKICAgICAgYWRkRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGFkZEZvcm06IHsKICAgICAgICBzdHVkZW50SWQ6ICcnLAogICAgICAgIHNwb3J0c0l0ZW1JZDogJycsCiAgICAgICAgc2NvcmU6IDAsCiAgICAgICAgdGVzdFRpbWU6ICcnCiAgICAgIH0sCiAgICAgIGFkZFJ1bGVzOiB7CiAgICAgICAgc3R1ZGVudElkOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5a2m55SfJywgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgIF0sCiAgICAgICAgc3BvcnRzSXRlbUlkOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5rWL6K+V6aG555uuJywgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgIF0sCiAgICAgICAgc2NvcmU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXmtYvor5XmiJDnu6knLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgdGVzdFRpbWU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nmtYvor5Xml7bpl7QnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CiAgICAgICAgXQogICAgICB9LAogICAgICBzZWxlY3RlZEl0ZW06IG51bGwsCiAgICAgIHN0dWRlbnRzOiBbXSwKICAgICAgcmVqZWN0UmVhc29uOiAnJwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHJldmlld0RpYWxvZ1RpdGxlKCkgewogICAgICByZXR1cm4gdGhpcy5yZXZpZXdUeXBlID09PSAnYXBwcm92ZScgPyAn5a6h5qC46YCa6L+H56Gu6K6kJyA6ICfpqbPlm57noa7orqQnCiAgICB9CiAgfSwKICBhc3luYyBjcmVhdGVkKCkgewogICAgdHJ5IHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICAvLyDlhYjojrflj5bln7rnoYDmlbDmja4KICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoWwogICAgICAgIHRoaXMuZmV0Y2hTcG9ydHNJdGVtcygpLAogICAgICAgIHRoaXMuZmV0Y2hUZWFjaGVycygpLAogICAgICAgIHRoaXMuZmV0Y2hTdHVkZW50cygpCiAgICAgIF0pCiAgICAgIC8vIOWGjeiOt+WPluiusOW9leWIl+ihqAogICAgICBhd2FpdCB0aGlzLmZldGNoUmVjb3JkTGlzdCgpCiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICBjb25zb2xlLmVycm9yKCfliJ3lp4vljJbmlbDmja7lpLHotKU6JywgZXJyb3IpCiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WIneWni+WMluaVsOaNruWksei0pScpCiAgICB9IGZpbmFsbHkgewogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZm9ybWF0RGF0ZShkYXRlKSB7CiAgICAgIGlmICghZGF0ZSkgcmV0dXJuICcnCiAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlKS50b0xvY2FsZVN0cmluZygpCiAgICB9LAogICAgZ2V0U3RhdHVzVHlwZShzdGF0dXMpIHsKICAgICAgY29uc3QgdHlwZU1hcCA9IHsKICAgICAgICAnUEVORElORyc6ICd3YXJuaW5nJywKICAgICAgICAnQVBQUk9WRUQnOiAnc3VjY2VzcycsCiAgICAgICAgJ1JFSkVDVEVEJzogJ2RhbmdlcicKICAgICAgfQogICAgICByZXR1cm4gdHlwZU1hcFtzdGF0dXNdIHx8ICdpbmZvJwogICAgfSwKICAgIGdldFN0YXR1c0xhYmVsKHN0YXR1cykgewogICAgICBjb25zdCBsYWJlbE1hcCA9IHsKICAgICAgICAnUEVORElORyc6ICflvoXlrqHmoLgnLAogICAgICAgICdBUFBST1ZFRCc6ICflt7LpgJrov4cnLAogICAgICAgICdSRUpFQ1RFRCc6ICflt7LpqbPlm54nCiAgICAgIH0KICAgICAgcmV0dXJuIGxhYmVsTWFwW3N0YXR1c10gfHwgJ+acquefpScKICAgIH0sCiAgICBpc0Fibm9ybWFsU2NvcmUocmVjb3JkKSB7CiAgICAgIGlmICghcmVjb3JkIHx8ICFyZWNvcmQuc3BvcnRzSXRlbSkgcmV0dXJuIGZhbHNlOwogICAgICAKICAgICAgY29uc3QgYWJub3JtYWxSdWxlcyA9IHsKICAgICAgICAnMTAw57Gz6LeRJzogKHNjb3JlKSA9PiBzY29yZSA8IDkgfHwgc2NvcmUgPiAyMCwKICAgICAgICAn56uL5a6a6Lez6L+cJzogKHNjb3JlKSA9PiBzY29yZSA8IDEuNSB8fCBzY29yZSA+IDMuNSwKICAgICAgICAn5byV5L2T5ZCR5LiKJzogKHNjb3JlKSA9PiBzY29yZSA8IDAgfHwgc2NvcmUgPiAzMCwKICAgICAgICAnMTAwMOexs+i3kSc6IChzY29yZSkgPT4gc2NvcmUgPCAxODAgfHwgc2NvcmUgPiA2MDAsCiAgICAgICAgJ+S7sOWNp+i1t+WdkCc6IChzY29yZSkgPT4gc2NvcmUgPCAxMCB8fCBzY29yZSA+IDgwCiAgICAgIH07CgogICAgICBjb25zdCBydWxlID0gYWJub3JtYWxSdWxlc1tyZWNvcmQuc3BvcnRzSXRlbS5uYW1lXTsKICAgICAgcmV0dXJuIHJ1bGUgPyBydWxlKHJlY29yZC5zY29yZSkgOiBmYWxzZTsKICAgIH0sCiAgICBhc3luYyBmZXRjaFNwb3J0c0l0ZW1zKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCcvYXBpL2FkbWluL3Nwb3J0cy1pdGVtcycpCiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5zcG9ydHNJdGVtcyA9IHJlcy5kYXRhLmRhdGEgfHwgW10KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign6I635Y+W5L2T6IKy6aG555uu5aSx6LSlOicsIGVycm9yKQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPluS9k+iCsumhueebruWksei0pTogJyArIGVycm9yLm1lc3NhZ2UpCiAgICAgICAgdGhpcy5zcG9ydHNJdGVtcyA9IFtdCiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBmZXRjaFRlYWNoZXJzKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCcvYXBpL2FkbWluL3VzZXJzJywgewogICAgICAgICAgcGFyYW1zOiB7IHVzZXJUeXBlOiAnVEVBQ0hFUicgfQogICAgICAgIH0pCiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy50ZWFjaGVycyA9IHJlcy5kYXRhLmRhdGEgfHwgW10KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign6I635Y+W5pWZ5biI5YiX6KGo5aSx6LSlOicsIGVycm9yKQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPluaVmeW4iOWIl+ihqOWksei0pTogJyArIGVycm9yLm1lc3NhZ2UpCiAgICAgICAgdGhpcy50ZWFjaGVycyA9IFtdCiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBmZXRjaFJlY29yZExpc3QoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICAgIHN0YXR1czogdGhpcy5maWx0ZXJGb3JtLnN0YXR1cywKICAgICAgICAgIHRlYWNoZXJJZDogdGhpcy5maWx0ZXJGb3JtLnRlYWNoZXJJZCwKICAgICAgICAgIHNwb3J0c0l0ZW1JZDogdGhpcy5maWx0ZXJGb3JtLnNwb3J0c0l0ZW1JZCwKICAgICAgICAgIHN0YXJ0RGF0ZTogdGhpcy5maWx0ZXJGb3JtLmRhdGVSYW5nZT8uWzBdIHx8IG51bGwsCiAgICAgICAgICBlbmREYXRlOiB0aGlzLmZpbHRlckZvcm0uZGF0ZVJhbmdlPy5bMV0gfHwgbnVsbCwKICAgICAgICAgIHBhZ2U6IHRoaXMucGFnZS5jdXJyZW50IC0gMSwKICAgICAgICAgIHNpemU6IHRoaXMucGFnZS5zaXplCiAgICAgICAgfQogICAgICAgIAogICAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyByZWNvcmRzIHdpdGggcGFyYW1zOicsIHBhcmFtcykKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLmdldCgnL2FwaS9hZG1pbi90ZXN0LXJlY29yZHMvcmV2aWV3JywgeyBwYXJhbXMgfSkKICAgICAgICBjb25zb2xlLmxvZygnUmVzcG9uc2U6JywgcmVzLmRhdGEpCgogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMucmVjb3JkTGlzdCA9IEFycmF5LmlzQXJyYXkocmVzLmRhdGEuZGF0YS5jb250ZW50KSA/IHJlcy5kYXRhLmRhdGEuY29udGVudCA6IFtdCiAgICAgICAgICB0aGlzLnBhZ2UudG90YWwgPSByZXMuZGF0YS5kYXRhLnRvdGFsRWxlbWVudHMgfHwgMAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzLmRhdGEubXNnIHx8ICfojrflj5borrDlvZXliJfooajlpLHotKUnKQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5borrDlvZXliJfooajlpLHotKU6JywgZXJyb3IpCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W6K6w5b2V5YiX6KGo5aSx6LSlOiAnICsgZXJyb3IubWVzc2FnZSkKICAgICAgICB0aGlzLnJlY29yZExpc3QgPSBbXQogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVTZWFyY2goKSB7CiAgICAgIHRoaXMucGFnZS5jdXJyZW50ID0gMQogICAgICB0aGlzLmZldGNoUmVjb3JkTGlzdCgpCiAgICB9LAogICAgcmVzZXRGaWx0ZXIoKSB7CiAgICAgIHRoaXMuZmlsdGVyRm9ybSA9IHsKICAgICAgICBzcG9ydHNJdGVtSWQ6ICcnLAogICAgICAgIHRlYWNoZXJJZDogJycsCiAgICAgICAgc3RhdHVzOiAnJywKICAgICAgICBkYXRlUmFuZ2U6IFtdCiAgICAgIH0KICAgICAgdGhpcy5oYW5kbGVTZWFyY2goKQogICAgfSwKICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucGFnZS5zaXplID0gdmFsCiAgICAgIHRoaXMuZmV0Y2hSZWNvcmRMaXN0KCkKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLnBhZ2UuY3VycmVudCA9IHZhbAogICAgICB0aGlzLmZldGNoUmVjb3JkTGlzdCgpCiAgICB9LAogICAgaGFuZGxlUmV2aWV3KHJlY29yZCwgdHlwZSkgewogICAgICB0aGlzLmN1cnJlbnRSZWNvcmQgPSB7IC4uLnJlY29yZCB9CiAgICAgIHRoaXMucmV2aWV3VHlwZSA9IHR5cGUKICAgICAgdGhpcy5yZXZpZXdGb3JtLnJldmlld0NvbW1lbnQgPSAnJwogICAgICB0aGlzLnJldmlld0RpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICB9LAogICAgaGFuZGxlRGV0YWlsKHJlY29yZCkgewogICAgICB0aGlzLmN1cnJlbnRSZWNvcmQgPSB7IC4uLnJlY29yZCB9CiAgICAgIHRoaXMuZGV0YWlsRGlhbG9nVmlzaWJsZSA9IHRydWUKICAgIH0sCiAgICBoYW5kbGVFZGl0KHJlY29yZCkgewogICAgICB0aGlzLmN1cnJlbnRSZWNvcmQgPSByZWNvcmQ7CiAgICAgIHRoaXMuZWRpdEZvcm0gPSB7CiAgICAgICAgc3R1ZGVudElkOiByZWNvcmQuc3R1ZGVudD8uaWQsCiAgICAgICAgdGVhY2hlcklkOiByZWNvcmQudGVhY2hlcj8uaWQsCiAgICAgICAgc3BvcnRzSXRlbUlkOiByZWNvcmQuc3BvcnRzSXRlbT8uaWQsCiAgICAgICAgc2NvcmU6IHJlY29yZC5zY29yZSwKICAgICAgICB0ZXN0VGltZTogcmVjb3JkLnRlc3RUaW1lLAogICAgICAgIHN0YXR1czogcmVjb3JkLnN0YXR1cywKICAgICAgICByZW1hcms6IHJlY29yZC5yZW1hcmsgfHwgJycKICAgICAgfTsKICAgICAgdGhpcy5lZGl0RGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgYXN5bmMgc3VibWl0RWRpdCgpIHsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCB0aGlzLiRyZWZzLmVkaXRGb3JtLnZhbGlkYXRlKCk7CiAgICAgICAgCiAgICAgICAgLy8g5p6E6YCg6K+35rGC5pWw5o2u77yM56Gu5L+d5pWw5o2u5qC85byP5q2j56GuCiAgICAgICAgY29uc3QgZWRpdERhdGEgPSB7CiAgICAgICAgICBpZDogdGhpcy5jdXJyZW50UmVjb3JkLmlkLAogICAgICAgICAgc3R1ZGVudDogeyBpZDogdGhpcy5lZGl0Rm9ybS5zdHVkZW50SWQgfSwKICAgICAgICAgIHRlYWNoZXI6IHsgaWQ6IHRoaXMuZWRpdEZvcm0udGVhY2hlcklkIH0sCiAgICAgICAgICBzcG9ydHNJdGVtOiB7IGlkOiB0aGlzLmVkaXRGb3JtLnNwb3J0c0l0ZW1JZCB9LAogICAgICAgICAgc2NvcmU6IHBhcnNlRmxvYXQodGhpcy5lZGl0Rm9ybS5zY29yZSksCiAgICAgICAgICB0ZXN0VGltZTogdGhpcy5lZGl0Rm9ybS50ZXN0VGltZSA/IG5ldyBEYXRlKHRoaXMuZWRpdEZvcm0udGVzdFRpbWUpLnRvSVNPU3RyaW5nKCkgOiBudWxsLAogICAgICAgICAgc3RhdHVzOiB0aGlzLmVkaXRGb3JtLnN0YXR1cywKICAgICAgICAgIHJlbWFyazogdGhpcy5lZGl0Rm9ybS5yZW1hcmsKICAgICAgICB9OwoKICAgICAgICBjb25zb2xlLmxvZygnU3VibWl0dGluZyBlZGl0IGRhdGE6JywgZWRpdERhdGEpOwoKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLnB1dCgKICAgICAgICAgIGAvYXBpL2FkbWluL3Rlc3QtcmVjb3Jkcy8ke3RoaXMuY3VycmVudFJlY29yZC5pZH1gLAogICAgICAgICAgZWRpdERhdGEKICAgICAgICApOwoKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/ruaUueaIkOWKnycpOwogICAgICAgICAgdGhpcy5lZGl0RGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgYXdhaXQgdGhpcy5mZXRjaFJlY29yZExpc3QoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlcy5kYXRhLm1zZyB8fCAn5L+u5pS55aSx6LSlJyk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+S/ruaUueWksei0pTonLCBlcnJvcik7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5L+u5pS55aSx6LSlOiAnICsgKGVycm9yLnJlc3BvbnNlPy5kYXRhPy5tc2cgfHwgZXJyb3IubWVzc2FnZSkpOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlQWRkKCkgewogICAgICB0aGlzLmFkZEZvcm0gPSB7CiAgICAgICAgc3R1ZGVudElkOiAnJywKICAgICAgICBzcG9ydHNJdGVtSWQ6ICcnLAogICAgICAgIHNjb3JlOiAwLAogICAgICAgIHRlc3RUaW1lOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTkpLnJlcGxhY2UoJ1QnLCAnICcpCiAgICAgIH0KICAgICAgdGhpcy5hZGREaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgICBpZiAodGhpcy5zdHVkZW50cy5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLmZldGNoU3R1ZGVudHMoKQogICAgICB9CiAgICB9LAogICAgaGFuZGxlSXRlbUNoYW5nZShpdGVtSWQpIHsKICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSB0aGlzLnNwb3J0c0l0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBpdGVtSWQpCiAgICB9LAogICAgYXN5bmMgc3VibWl0QWRkKCkgewogICAgICB0cnkgewogICAgICAgIGF3YWl0IHRoaXMuJHJlZnMuYWRkRm9ybS52YWxpZGF0ZSgpCiAgICAgICAgCiAgICAgICAgLy8g6L2s5o2i5pel5pyf5pe26Ze05qC85byPCiAgICAgICAgY29uc3QgdGVzdFRpbWUgPSB0aGlzLmFkZEZvcm0udGVzdFRpbWUgPyBuZXcgRGF0ZSh0aGlzLmFkZEZvcm0udGVzdFRpbWUpIDogbmV3IERhdGUoKTsKICAgICAgICAKICAgICAgICAvLyDmnoTpgKDor7fmsYLmlbDmja4KICAgICAgICBjb25zdCByZWNvcmREYXRhID0gewogICAgICAgICAgc3R1ZGVudDogeyBpZDogcGFyc2VJbnQodGhpcy5hZGRGb3JtLnN0dWRlbnRJZCkgfSwKICAgICAgICAgIHNwb3J0c0l0ZW06IHsgaWQ6IHBhcnNlSW50KHRoaXMuYWRkRm9ybS5zcG9ydHNJdGVtSWQpIH0sCiAgICAgICAgICB0ZWFjaGVyOiB7IGlkOiBwYXJzZUludCh0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmlkKSB9LAogICAgICAgICAgc2NvcmU6IHBhcnNlRmxvYXQodGhpcy5hZGRGb3JtLnNjb3JlKSwKICAgICAgICAgIHRlc3RUaW1lOiB0ZXN0VGltZS50b0lTT1N0cmluZygpLAogICAgICAgICAgc3RhdHVzOiAnUEVORElORycKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgY29uc29sZS5sb2coJ1N1Ym1pdHRpbmcgcmVjb3JkIGRhdGE6JywgcmVjb3JkRGF0YSk7CiAgICAgICAgCiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCcvYWRtaW4vdGVzdC1yZWNvcmRzL2FkZCcsIHJlY29yZERhdGEpCiAgICAgICAgCiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCflvZXlhaXmiJDlip8nKQogICAgICAgICAgdGhpcy5hZGREaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgICAgICAgIHRoaXMuZmV0Y2hSZWNvcmRMaXN0KCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cgfHwgJ+W9leWFpeWksei0pScpCiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+W9leWFpeWksei0pTonLCBlcnJvcikKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVycm9yLnJlc3BvbnNlPy5kYXRhPy5tc2cgfHwgJ+W9leWFpeWksei0pScpCiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBzdWJtaXRSZXZpZXcoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKHRoaXMucmV2aWV3VHlwZSA9PT0gJ3JlamVjdCcpIHsKICAgICAgICAgIC8vIOmps+WbnuaXtumqjOivgeihqOWNlQogICAgICAgICAgYXdhaXQgdGhpcy4kcmVmcy5yZXZpZXdGb3JtLnZhbGlkYXRlKCkKICAgICAgICB9CgogICAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICAgIGlkOiB0aGlzLmN1cnJlbnRSZWNvcmQuaWQsCiAgICAgICAgICBzdGF0dXM6IHRoaXMucmV2aWV3VHlwZSA9PT0gJ2FwcHJvdmUnID8gJ0FQUFJPVkVEJyA6ICdSRUpFQ1RFRCcsCiAgICAgICAgICByZXZpZXdDb21tZW50OiB0aGlzLnJldmlld1R5cGUgPT09ICdhcHByb3ZlJyA/ICflrqHmoLjpgJrov4cnIDogdGhpcy5yZXZpZXdGb3JtLnJldmlld0NvbW1lbnQsCiAgICAgICAgICByZXZpZXdlcklkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmlkCiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZygnU3VibWl0dGluZyByZXZpZXc6JywgcGFyYW1zKQoKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLnB1dCgnL2FwaS9hZG1pbi90ZXN0LXJlY29yZHMvcmV2aWV3JywgcGFyYW1zKQoKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3ModGhpcy5yZXZpZXdUeXBlID09PSAnYXBwcm92ZScgPyAn5a6h5qC46YCa6L+H5oiQ5YqfJyA6ICfpqbPlm57miJDlip8nKQogICAgICAgICAgdGhpcy5yZXZpZXdEaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgICAgICAgIGF3YWl0IHRoaXMuZmV0Y2hSZWNvcmRMaXN0KCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlcy5kYXRhLm1zZyB8fCAn5a6h5qC45aSx6LSlJykKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5a6h5qC45aSx6LSlOicsIGVycm9yKQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WuoeaguOWksei0pTogJyArIChlcnJvci5yZXNwb25zZT8uZGF0YT8ubXNnIHx8IGVycm9yLm1lc3NhZ2UpKQogICAgICB9CiAgICB9LAogICAgYXN5bmMgZmV0Y2hTdHVkZW50cygpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLmdldCgnL2FkbWluL3VzZXJzJywgewogICAgICAgICAgcGFyYW1zOiB7IHVzZXJUeXBlOiAnU1RVREVOVCcgfQogICAgICAgIH0pCiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5zdHVkZW50cyA9IHJlcy5kYXRhLmRhdGEKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign6I635Y+W5a2m55Sf5YiX6KGo5aSx6LSlOicsIGVycm9yKQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPluWtpueUn+WIl+ihqOWksei0pScpCiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["DataReview.vue"],"names":[],"mappings":";AAiSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DataReview.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\n  <div class=\"data-review\">\n    <!-- 搜索和筛选区域 -->\n    <div class=\"filter-section\">\n      <el-form :inline=\"true\" :model=\"filterForm\" class=\"filter-form\">\n        <el-form-item label=\"测试项目\">\n          <el-select v-model=\"filterForm.sportsItemId\" placeholder=\"选择测试项目\">\n            <el-option\n              v-for=\"item in sportsItems\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"录入教师\">\n          <el-select v-model=\"filterForm.teacherId\" placeholder=\"选择教师\">\n            <el-option\n              v-for=\"teacher in teachers\"\n              :key=\"teacher.id\"\n              :label=\"teacher.realName\"\n              :value=\"teacher.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"审核状态\">\n          <el-select v-model=\"filterForm.status\" placeholder=\"选择状态\">\n            <el-option label=\"待审核\" value=\"PENDING\"></el-option>\n            <el-option label=\"已通过\" value=\"APPROVED\"></el-option>\n            <el-option label=\"已驳回\" value=\"REJECTED\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"测试时间\">\n          <el-date-picker\n            v-model=\"filterForm.dateRange\"\n            type=\"daterange\"\n            range-separator=\"至\"\n            start-placeholder=\"开始日期\"\n            end-placeholder=\"结束日期\"\n            format=\"yyyy-MM-dd\"\n            value-format=\"yyyy-MM-dd\"\n          ></el-date-picker>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"handleSearch\">查询</el-button>\n          <el-button @click=\"resetFilter\">重置</el-button>\n        </el-form-item>\n      </el-form>\n      <div class=\"operation-buttons\">\n        <el-button type=\"primary\" @click=\"handleAdd\">\n          <i class=\"el-icon-plus\"></i> 录入成绩\n        </el-button>\n      </div>\n    </div>\n\n    <!-- 数据列表 -->\n    <el-table\n      :data=\"recordList || []\"\n      border\n      stripe\n      v-loading=\"loading\"\n      style=\"width: 100%\"\n    >\n      <el-table-column prop=\"id\" label=\"ID\" width=\"80\"></el-table-column>\n      <el-table-column label=\"学生姓名\">\n        <template slot-scope=\"scope\">\n          {{ scope.row?.student?.realName || '未知' }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"测试项目\">\n        <template slot-scope=\"scope\">\n          {{ scope.row?.sportsItem?.name || '未知' }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"测试成绩\">\n        <template slot-scope=\"scope\">\n          <span :class=\"{ 'abnormal-score': isAbnormalScore(scope.row) }\">\n            {{ scope.row?.score }}{{ scope.row?.sportsItem?.unit || '' }}\n          </span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"录入教师\">\n        <template slot-scope=\"scope\">\n          {{ scope.row?.teacher?.realName || '未知' }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"testTime\" label=\"测试时间\" width=\"180\">\n        <template slot-scope=\"scope\">\n          {{ formatDate(scope.row.testTime) }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\n        <template slot-scope=\"scope\">\n          <el-tag :type=\"getStatusType(scope.row.status)\">\n            {{ getStatusLabel(scope.row.status) }}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"250\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"primary\"\n            @click=\"handleReview(scope.row, 'approve')\"\n            v-if=\"scope.row.status === 'PENDING'\"\n          >审核</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"warning\"\n            @click=\"handleEdit(scope.row)\"\n          >修改</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"info\"\n            @click=\"handleDetail(scope.row)\"\n          >详情</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 分页 -->\n    <div class=\"pagination-container\">\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"page.current\"\n        :page-sizes=\"[10, 20, 50, 100]\"\n        :page-size=\"page.size\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"page.total\"\n      ></el-pagination>\n    </div>\n\n    <!-- 审核对话框 -->\n    <el-dialog\n      :title=\"reviewDialogTitle\"\n      :visible.sync=\"reviewDialogVisible\"\n      width=\"500px\"\n    >\n      <div class=\"review-info\" v-if=\"currentRecord\">\n        <p>学生：{{ currentRecord.student?.realName || '未知' }}</p>\n        <p>测试项目：{{ currentRecord.sportsItem?.name || '未知' }}</p>\n        <p>测试成绩：{{ currentRecord.score }}{{ currentRecord.sportsItem?.unit || '' }}</p>\n        <p>测试时间：{{ formatDate(currentRecord.testTime) }}</p>\n      </div>\n\n      <div v-if=\"reviewType === 'reject'\" class=\"reject-form\">\n        <el-form :model=\"reviewForm\" :rules=\"reviewRules\" ref=\"reviewForm\">\n          <el-form-item label=\"驳回原因\" prop=\"reviewComment\">\n            <el-input\n              type=\"textarea\"\n              v-model=\"reviewForm.reviewComment\"\n              :rows=\"3\"\n              placeholder=\"请输入驳回原因\"\n            ></el-input>\n          </el-form-item>\n        </el-form>\n      </div>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"reviewDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitReview\">确 定</el-button>\n      </span>\n    </el-dialog>\n\n    <!-- 详情对话框 -->\n    <el-dialog title=\"详细信息\" :visible.sync=\"detailDialogVisible\" width=\"500px\">\n      <div class=\"detail-info\" v-if=\"currentRecord\">\n        <p><strong>学生：</strong>{{ currentRecord.student?.realName || '未知' }}</p>\n        <p><strong>测试项目：</strong>{{ currentRecord.sportsItem?.name || '未知' }}</p>\n        <p><strong>测试成绩：</strong>{{ currentRecord.score }}{{ currentRecord.sportsItem?.unit || '' }}</p>\n        <p><strong>录入教师：</strong>{{ currentRecord.teacher?.realName || '未知' }}</p>\n        <p><strong>测试时间：</strong>{{ formatDate(currentRecord.testTime) }}</p>\n        <p><strong>审核状态：</strong>{{ getStatusLabel(currentRecord.status) }}</p>\n        <p><strong>审核意见：</strong>{{ currentRecord.reviewComment || '无' }}</p>\n        <p><strong>审核时间：</strong>{{ formatDate(currentRecord.reviewTime) || '未审核' }}</p>\n      </div>\n    </el-dialog>\n\n    <!-- 修改对话框 -->\n    <el-dialog title=\"修改测试记录\" :visible.sync=\"editDialogVisible\" width=\"500px\">\n      <el-form :model=\"editForm\" ref=\"editForm\" :rules=\"editRules\" label-width=\"100px\">\n        <el-form-item label=\"学生姓名\" prop=\"studentId\">\n          <el-select v-model=\"editForm.studentId\" placeholder=\"选择学生\" disabled>\n            <el-option\n              :label=\"currentRecord.student?.realName\"\n              :value=\"currentRecord.student?.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"测试项目\" prop=\"sportsItemId\">\n          <el-select v-model=\"editForm.sportsItemId\" placeholder=\"选择测试项目\" disabled>\n            <el-option\n              :label=\"currentRecord.sportsItem?.name\"\n              :value=\"currentRecord.sportsItem?.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"测试成绩\" prop=\"score\">\n          <el-input-number \n            v-model=\"editForm.score\" \n            :precision=\"2\"\n            :step=\"0.1\"\n            :min=\"0\"\n          ></el-input-number>\n          <span style=\"margin-left: 10px\">{{ currentRecord.sportsItem?.unit }}</span>\n        </el-form-item>\n        <el-form-item label=\"测试时间\" prop=\"testTime\">\n          <el-date-picker\n            v-model=\"editForm.testTime\"\n            type=\"datetime\"\n            placeholder=\"选择测试时间\"\n            format=\"yyyy-MM-dd HH:mm:ss\"\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\n          ></el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"审核状态\" prop=\"status\">\n          <el-select v-model=\"editForm.status\" placeholder=\"选择状态\">\n            <el-option label=\"待审核\" value=\"PENDING\"></el-option>\n            <el-option label=\"已通过\" value=\"APPROVED\"></el-option>\n            <el-option label=\"已驳回\" value=\"REJECTED\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"审核意见\" prop=\"reviewComment\">\n          <el-input\n            type=\"textarea\"\n            v-model=\"editForm.reviewComment\"\n            :rows=\"3\"\n            placeholder=\"请输入审核意见\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button @click=\"editDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitEdit\">确定</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 添加数据录入对话框 -->\n    <el-dialog title=\"录入成绩\" :visible.sync=\"addDialogVisible\" width=\"500px\">\n      <el-form :model=\"addForm\" :rules=\"addRules\" ref=\"addForm\" label-width=\"100px\">\n        <el-form-item label=\"学生\" prop=\"studentId\">\n          <el-select v-model=\"addForm.studentId\" placeholder=\"选择学生\" filterable>\n            <el-option\n              v-for=\"student in students\"\n              :key=\"student.id\"\n              :label=\"student.realName\"\n              :value=\"student.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"测试项目\" prop=\"sportsItemId\">\n          <el-select v-model=\"addForm.sportsItemId\" placeholder=\"选择测试项目\" @change=\"handleItemChange\">\n            <el-option\n              v-for=\"item in sportsItems\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"测试成绩\" prop=\"score\">\n          <el-input-number \n            v-model=\"addForm.score\" \n            :precision=\"2\"\n            :step=\"0.1\"\n            :min=\"0\"\n          ></el-input-number>\n          <span style=\"margin-left: 10px\">{{ selectedItem?.unit }}</span>\n        </el-form-item>\n        <el-form-item label=\"测试时间\" prop=\"testTime\">\n          <el-date-picker\n            v-model=\"addForm.testTime\"\n            type=\"datetime\"\n            placeholder=\"选择测试时间\"\n            format=\"yyyy-MM-dd HH:mm:ss\"\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\n          ></el-date-picker>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button @click=\"addDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitAdd\">确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'DataReview',\n  data() {\n    return {\n      filterForm: {\n        sportsItemId: '',\n        teacherId: '',\n        status: '',\n        dateRange: []\n      },\n      sportsItems: [],\n      teachers: [],\n      recordList: [],\n      loading: false,\n      page: {\n        current: 1,\n        size: 10,\n        total: 0\n      },\n      reviewDialogVisible: false,\n      detailDialogVisible: false,\n      editDialogVisible: false,\n      currentRecord: null,\n      reviewType: '',\n      reviewForm: {\n        reviewComment: ''\n      },\n      reviewRules: {\n        reviewComment: [\n          { required: true, message: '请输入驳回原因', trigger: 'blur' }\n        ]\n      },\n      editForm: {\n        studentId: '',\n        sportsItemId: '',\n        score: 0,\n        testTime: '',\n        status: '',\n        reviewComment: ''\n      },\n      editRules: {\n        studentId: [{ required: true, message: '请选择学生', trigger: 'change' }],\n        teacherId: [{ required: true, message: '请选择教师', trigger: 'change' }],\n        sportsItemId: [{ required: true, message: '请选择测试项目', trigger: 'change' }],\n        score: [{ required: true, message: '请输入成绩', trigger: 'blur' }],\n        testTime: [{ required: true, message: '请选择测试时间', trigger: 'change' }]\n      },\n      addDialogVisible: false,\n      addForm: {\n        studentId: '',\n        sportsItemId: '',\n        score: 0,\n        testTime: ''\n      },\n      addRules: {\n        studentId: [\n          { required: true, message: '请选择学生', trigger: 'change' }\n        ],\n        sportsItemId: [\n          { required: true, message: '请选择测试项目', trigger: 'change' }\n        ],\n        score: [\n          { required: true, message: '请输入测试成绩', trigger: 'blur' }\n        ],\n        testTime: [\n          { required: true, message: '请选择测试时间', trigger: 'change' }\n        ]\n      },\n      selectedItem: null,\n      students: [],\n      rejectReason: ''\n    }\n  },\n  computed: {\n    reviewDialogTitle() {\n      return this.reviewType === 'approve' ? '审核通过确认' : '驳回确认'\n    }\n  },\n  async created() {\n    try {\n      this.loading = true\n      // 先获取基础数据\n      await Promise.all([\n        this.fetchSportsItems(),\n        this.fetchTeachers(),\n        this.fetchStudents()\n      ])\n      // 再获取记录列表\n      await this.fetchRecordList()\n    } catch (error) {\n      console.error('初始化数据失败:', error)\n      this.$message.error('初始化数据失败')\n    } finally {\n      this.loading = false\n    }\n  },\n  methods: {\n    formatDate(date) {\n      if (!date) return ''\n      return new Date(date).toLocaleString()\n    },\n    getStatusType(status) {\n      const typeMap = {\n        'PENDING': 'warning',\n        'APPROVED': 'success',\n        'REJECTED': 'danger'\n      }\n      return typeMap[status] || 'info'\n    },\n    getStatusLabel(status) {\n      const labelMap = {\n        'PENDING': '待审核',\n        'APPROVED': '已通过',\n        'REJECTED': '已驳回'\n      }\n      return labelMap[status] || '未知'\n    },\n    isAbnormalScore(record) {\n      if (!record || !record.sportsItem) return false;\n      \n      const abnormalRules = {\n        '100米跑': (score) => score < 9 || score > 20,\n        '立定跳远': (score) => score < 1.5 || score > 3.5,\n        '引体向上': (score) => score < 0 || score > 30,\n        '1000米跑': (score) => score < 180 || score > 600,\n        '仰卧起坐': (score) => score < 10 || score > 80\n      };\n\n      const rule = abnormalRules[record.sportsItem.name];\n      return rule ? rule(record.score) : false;\n    },\n    async fetchSportsItems() {\n      try {\n        const res = await this.$http.get('/api/admin/sports-items')\n        if (res.data.code === 200) {\n          this.sportsItems = res.data.data || []\n        }\n      } catch (error) {\n        console.error('获取体育项目失败:', error)\n        this.$message.error('获取体育项目失败: ' + error.message)\n        this.sportsItems = []\n      }\n    },\n    async fetchTeachers() {\n      try {\n        const res = await this.$http.get('/api/admin/users', {\n          params: { userType: 'TEACHER' }\n        })\n        if (res.data.code === 200) {\n          this.teachers = res.data.data || []\n        }\n      } catch (error) {\n        console.error('获取教师列表失败:', error)\n        this.$message.error('获取教师列表失败: ' + error.message)\n        this.teachers = []\n      }\n    },\n    async fetchRecordList() {\n      try {\n        this.loading = true\n        const params = {\n          status: this.filterForm.status,\n          teacherId: this.filterForm.teacherId,\n          sportsItemId: this.filterForm.sportsItemId,\n          startDate: this.filterForm.dateRange?.[0] || null,\n          endDate: this.filterForm.dateRange?.[1] || null,\n          page: this.page.current - 1,\n          size: this.page.size\n        }\n        \n        console.log('Fetching records with params:', params)\n        const res = await this.$http.get('/api/admin/test-records/review', { params })\n        console.log('Response:', res.data)\n\n        if (res.data.code === 200) {\n          this.recordList = Array.isArray(res.data.data.content) ? res.data.data.content : []\n          this.page.total = res.data.data.totalElements || 0\n        } else {\n          throw new Error(res.data.msg || '获取记录列表失败')\n        }\n      } catch (error) {\n        console.error('获取记录列表失败:', error)\n        this.$message.error('获取记录列表失败: ' + error.message)\n        this.recordList = []\n      } finally {\n        this.loading = false\n      }\n    },\n    handleSearch() {\n      this.page.current = 1\n      this.fetchRecordList()\n    },\n    resetFilter() {\n      this.filterForm = {\n        sportsItemId: '',\n        teacherId: '',\n        status: '',\n        dateRange: []\n      }\n      this.handleSearch()\n    },\n    handleSizeChange(val) {\n      this.page.size = val\n      this.fetchRecordList()\n    },\n    handleCurrentChange(val) {\n      this.page.current = val\n      this.fetchRecordList()\n    },\n    handleReview(record, type) {\n      this.currentRecord = { ...record }\n      this.reviewType = type\n      this.reviewForm.reviewComment = ''\n      this.reviewDialogVisible = true\n    },\n    handleDetail(record) {\n      this.currentRecord = { ...record }\n      this.detailDialogVisible = true\n    },\n    handleEdit(record) {\n      this.currentRecord = record;\n      this.editForm = {\n        studentId: record.student?.id,\n        teacherId: record.teacher?.id,\n        sportsItemId: record.sportsItem?.id,\n        score: record.score,\n        testTime: record.testTime,\n        status: record.status,\n        remark: record.remark || ''\n      };\n      this.editDialogVisible = true;\n    },\n    async submitEdit() {\n      try {\n        await this.$refs.editForm.validate();\n        \n        // 构造请求数据，确保数据格式正确\n        const editData = {\n          id: this.currentRecord.id,\n          student: { id: this.editForm.studentId },\n          teacher: { id: this.editForm.teacherId },\n          sportsItem: { id: this.editForm.sportsItemId },\n          score: parseFloat(this.editForm.score),\n          testTime: this.editForm.testTime ? new Date(this.editForm.testTime).toISOString() : null,\n          status: this.editForm.status,\n          remark: this.editForm.remark\n        };\n\n        console.log('Submitting edit data:', editData);\n\n        const res = await this.$http.put(\n          `/api/admin/test-records/${this.currentRecord.id}`,\n          editData\n        );\n\n        if (res.data.code === 200) {\n          this.$message.success('修改成功');\n          this.editDialogVisible = false;\n          await this.fetchRecordList();\n        } else {\n          throw new Error(res.data.msg || '修改失败');\n        }\n      } catch (error) {\n        console.error('修改失败:', error);\n        this.$message.error('修改失败: ' + (error.response?.data?.msg || error.message));\n      }\n    },\n    handleAdd() {\n      this.addForm = {\n        studentId: '',\n        sportsItemId: '',\n        score: 0,\n        testTime: new Date().toISOString().slice(0, 19).replace('T', ' ')\n      }\n      this.addDialogVisible = true\n      if (this.students.length === 0) {\n        this.fetchStudents()\n      }\n    },\n    handleItemChange(itemId) {\n      this.selectedItem = this.sportsItems.find(item => item.id === itemId)\n    },\n    async submitAdd() {\n      try {\n        await this.$refs.addForm.validate()\n        \n        // 转换日期时间格式\n        const testTime = this.addForm.testTime ? new Date(this.addForm.testTime) : new Date();\n        \n        // 构造请求数据\n        const recordData = {\n          student: { id: parseInt(this.addForm.studentId) },\n          sportsItem: { id: parseInt(this.addForm.sportsItemId) },\n          teacher: { id: parseInt(this.$store.state.user.id) },\n          score: parseFloat(this.addForm.score),\n          testTime: testTime.toISOString(),\n          status: 'PENDING'\n        }\n        \n        console.log('Submitting record data:', recordData);\n        \n        const res = await this.$http.post('/admin/test-records/add', recordData)\n        \n        if (res.data.code === 200) {\n          this.$message.success('录入成功')\n          this.addDialogVisible = false\n          this.fetchRecordList()\n        } else {\n          this.$message.error(res.data.msg || '录入失败')\n        }\n      } catch (error) {\n        console.error('录入失败:', error)\n        this.$message.error(error.response?.data?.msg || '录入失败')\n      }\n    },\n    async submitReview() {\n      try {\n        if (this.reviewType === 'reject') {\n          // 驳回时验证表单\n          await this.$refs.reviewForm.validate()\n        }\n\n        const params = {\n          id: this.currentRecord.id,\n          status: this.reviewType === 'approve' ? 'APPROVED' : 'REJECTED',\n          reviewComment: this.reviewType === 'approve' ? '审核通过' : this.reviewForm.reviewComment,\n          reviewerId: this.$store.state.user.id\n        }\n\n        console.log('Submitting review:', params)\n\n        const res = await this.$http.put('/api/admin/test-records/review', params)\n\n        if (res.data.code === 200) {\n          this.$message.success(this.reviewType === 'approve' ? '审核通过成功' : '驳回成功')\n          this.reviewDialogVisible = false\n          await this.fetchRecordList()\n        } else {\n          throw new Error(res.data.msg || '审核失败')\n        }\n      } catch (error) {\n        console.error('审核失败:', error)\n        this.$message.error('审核失败: ' + (error.response?.data?.msg || error.message))\n      }\n    },\n    async fetchStudents() {\n      try {\n        const res = await this.$http.get('/admin/users', {\n          params: { userType: 'STUDENT' }\n        })\n        if (res.data.code === 200) {\n          this.students = res.data.data\n        }\n      } catch (error) {\n        console.error('获取学生列表失败:', error)\n        this.$message.error('获取学生列表失败')\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.data-review {\n  padding: 20px;\n}\n\n.filter-section {\n  margin-bottom: 20px;\n  background-color: #f5f7fa;\n  padding: 20px;\n  border-radius: 4px;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n}\n\n.filter-form {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n}\n\n.pagination-container {\n  margin-top: 20px;\n  text-align: right;\n}\n\n.abnormal-score {\n  color: #f56c6c;\n  font-weight: bold;\n}\n\n.review-info, .detail-info {\n  background-color: #f5f7fa;\n  padding: 15px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n}\n\n.warning-text {\n  color: #e6a23c;\n  margin-top: 10px;\n}\n\n.warning-text i {\n  margin-right: 5px;\n}\n\n.operation-buttons {\n  margin-left: 20px;\n}\n\n.reject-form {\n  margin-top: 20px;\n}\n</style> "]}]}