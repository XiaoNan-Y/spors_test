{"remainingRequest":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\src\\views\\admin\\DataReview.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\src\\views\\admin\\DataReview.vue","mtime":1740562101493},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739346865238},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\babel-loader\\lib\\index.js","mtime":1739346847767},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739346865238},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\vue-loader\\lib\\index.js","mtime":1739346848059}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRGF0YVJldmlldycsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbHRlckZvcm06IHsKICAgICAgICBzcG9ydHNJdGVtSWQ6ICcnLAogICAgICAgIHRlYWNoZXJJZDogJycsCiAgICAgICAgc3RhdHVzOiAnJywKICAgICAgICBkYXRlUmFuZ2U6IFtdCiAgICAgIH0sCiAgICAgIHNwb3J0c0l0ZW1zOiBbXSwKICAgICAgdGVhY2hlcnM6IFtdLAogICAgICByZWNvcmRMaXN0OiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHBhZ2U6IHsKICAgICAgICBjdXJyZW50OiAxLAogICAgICAgIHNpemU6IDEwLAogICAgICAgIHRvdGFsOiAwCiAgICAgIH0sCiAgICAgIHJldmlld0RpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBkZXRhaWxEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZWRpdERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBjdXJyZW50UmVjb3JkOiB7fSwKICAgICAgcmV2aWV3Rm9ybTogewogICAgICAgIHN0YXR1czogJ0FQUFJPVkVEJywKICAgICAgICBjb21tZW50OiAnJwogICAgICB9LAogICAgICBlZGl0Rm9ybTogewogICAgICAgIHN0dWRlbnRJZDogJycsCiAgICAgICAgc3BvcnRzSXRlbUlkOiAnJywKICAgICAgICBzY29yZTogMCwKICAgICAgICB0ZXN0VGltZTogJycsCiAgICAgICAgc3RhdHVzOiAnJywKICAgICAgICByZXZpZXdDb21tZW50OiAnJwogICAgICB9LAogICAgICBlZGl0UnVsZXM6IHsKICAgICAgICBzY29yZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpea1i+ivleaIkOe7qScsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICB0ZXN0VGltZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqea1i+ivleaXtumXtCcsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KICAgICAgICBdLAogICAgICAgIHN0YXR1czogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeWuoeaguOeKtuaAgScsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIGFkZERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBhZGRGb3JtOiB7CiAgICAgICAgc3R1ZGVudElkOiAnJywKICAgICAgICBzcG9ydHNJdGVtSWQ6ICcnLAogICAgICAgIHNjb3JlOiAwLAogICAgICAgIHRlc3RUaW1lOiAnJwogICAgICB9LAogICAgICBhZGRSdWxlczogewogICAgICAgIHN0dWRlbnRJZDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeWtpueUnycsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KICAgICAgICBdLAogICAgICAgIHNwb3J0c0l0ZW1JZDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqea1i+ivlemhueebricsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KICAgICAgICBdLAogICAgICAgIHNjb3JlOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5rWL6K+V5oiQ57upJywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICBdLAogICAgICAgIHRlc3RUaW1lOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5rWL6K+V5pe26Ze0JywgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgc2VsZWN0ZWRJdGVtOiBudWxsLAogICAgICBzdHVkZW50czogW10KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoU3BvcnRzSXRlbXMoKQogICAgdGhpcy5mZXRjaFRlYWNoZXJzKCkKICAgIHRoaXMuZmV0Y2hSZWNvcmRMaXN0KCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGZvcm1hdERhdGUoZGF0ZSkgewogICAgICBpZiAoIWRhdGUpIHJldHVybiAnJwogICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZSkudG9Mb2NhbGVTdHJpbmcoKQogICAgfSwKICAgIGdldFN0YXR1c1R5cGUoc3RhdHVzKSB7CiAgICAgIGNvbnN0IHR5cGVNYXAgPSB7CiAgICAgICAgJ1BFTkRJTkcnOiAnd2FybmluZycsCiAgICAgICAgJ0FQUFJPVkVEJzogJ3N1Y2Nlc3MnLAogICAgICAgICdSRUpFQ1RFRCc6ICdkYW5nZXInCiAgICAgIH0KICAgICAgcmV0dXJuIHR5cGVNYXBbc3RhdHVzXSB8fCAnaW5mbycKICAgIH0sCiAgICBnZXRTdGF0dXNMYWJlbChzdGF0dXMpIHsKICAgICAgY29uc3QgbGFiZWxNYXAgPSB7CiAgICAgICAgJ1BFTkRJTkcnOiAn5b6F5a6h5qC4JywKICAgICAgICAnQVBQUk9WRUQnOiAn5bey6YCa6L+HJywKICAgICAgICAnUkVKRUNURUQnOiAn5bey6amz5ZueJwogICAgICB9CiAgICAgIHJldHVybiBsYWJlbE1hcFtzdGF0dXNdIHx8ICfmnKrnn6UnCiAgICB9LAogICAgaXNBYm5vcm1hbFNjb3JlKHJlY29yZCkgewogICAgICBpZiAoIXJlY29yZCB8fCAhcmVjb3JkLnNwb3J0c0l0ZW0pIHJldHVybiBmYWxzZTsKICAgICAgCiAgICAgIGNvbnN0IGFibm9ybWFsUnVsZXMgPSB7CiAgICAgICAgJzEwMOexs+i3kSc6IChzY29yZSkgPT4gc2NvcmUgPCA5IHx8IHNjb3JlID4gMjAsCiAgICAgICAgJ+eri+Wumui3s+i/nCc6IChzY29yZSkgPT4gc2NvcmUgPCAxLjUgfHwgc2NvcmUgPiAzLjUsCiAgICAgICAgJ+W8leS9k+WQkeS4iic6IChzY29yZSkgPT4gc2NvcmUgPCAwIHx8IHNjb3JlID4gMzAsCiAgICAgICAgJzEwMDDnsbPot5EnOiAoc2NvcmUpID0+IHNjb3JlIDwgMTgwIHx8IHNjb3JlID4gNjAwLAogICAgICAgICfku7DljafotbflnZAnOiAoc2NvcmUpID0+IHNjb3JlIDwgMTAgfHwgc2NvcmUgPiA4MAogICAgICB9OwoKICAgICAgY29uc3QgcnVsZSA9IGFibm9ybWFsUnVsZXNbcmVjb3JkLnNwb3J0c0l0ZW0ubmFtZV07CiAgICAgIHJldHVybiBydWxlID8gcnVsZShyZWNvcmQuc2NvcmUpIDogZmFsc2U7CiAgICB9LAogICAgYXN5bmMgZmV0Y2hTcG9ydHNJdGVtcygpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLmdldCgnL2FkbWluL3Nwb3J0cy1pdGVtcycpCiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5zcG9ydHNJdGVtcyA9IHJlcy5kYXRhLmRhdGEKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign6I635Y+W5L2T6IKy6aG555uu5aSx6LSlOicsIGVycm9yKQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPluS9k+iCsumhueebruWksei0pScpCiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBmZXRjaFRlYWNoZXJzKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCcvYWRtaW4vdXNlcnMnLCB7CiAgICAgICAgICBwYXJhbXM6IHsgdXNlclR5cGU6ICdURUFDSEVSJyB9CiAgICAgICAgfSkKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLnRlYWNoZXJzID0gcmVzLmRhdGEuZGF0YQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5bmlZnluIjliJfooajlpLHotKU6JywgZXJyb3IpCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W5pWZ5biI5YiX6KGo5aSx6LSlJykKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGZldGNoUmVjb3JkTGlzdCgpIHsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgICAgY29uc3QgcGFyYW1zID0gewogICAgICAgICAgcGFnZTogdGhpcy5wYWdlLmN1cnJlbnQsCiAgICAgICAgICBzaXplOiB0aGlzLnBhZ2Uuc2l6ZSwKICAgICAgICAgIHN0YXR1czogdGhpcy5maWx0ZXJGb3JtLnN0YXR1cyB8fCBudWxsLAogICAgICAgICAgdGVhY2hlcklkOiB0aGlzLmZpbHRlckZvcm0udGVhY2hlcklkIHx8IG51bGwsCiAgICAgICAgICBzcG9ydHNJdGVtSWQ6IHRoaXMuZmlsdGVyRm9ybS5zcG9ydHNJdGVtSWQgfHwgbnVsbCwKICAgICAgICAgIHN0YXJ0RGF0ZTogdGhpcy5maWx0ZXJGb3JtLmRhdGVSYW5nZT8uWzBdIHx8IG51bGwsCiAgICAgICAgICBlbmREYXRlOiB0aGlzLmZpbHRlckZvcm0uZGF0ZVJhbmdlPy5bMV0gfHwgbnVsbAogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyDnp7vpmaTmiYDmnInnqbrlgLzlj4LmlbAKICAgICAgICBPYmplY3Qua2V5cyhwYXJhbXMpLmZvckVhY2goa2V5ID0+IHsKICAgICAgICAgIGlmIChwYXJhbXNba2V5XSA9PT0gbnVsbCB8fCBwYXJhbXNba2V5XSA9PT0gJycpIHsKICAgICAgICAgICAgZGVsZXRlIHBhcmFtc1trZXldOwogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgcmVjb3JkcyB3aXRoIHBhcmFtczonLCBwYXJhbXMpOwogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCcvYWRtaW4vdGVzdC1yZWNvcmRzL3JldmlldycsIHsgcGFyYW1zIH0pCiAgICAgICAgY29uc29sZS5sb2coJ1Jlc3BvbnNlOicsIHJlcy5kYXRhKTsKCiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgaWYgKHJlcy5kYXRhLmRhdGEgJiYgQXJyYXkuaXNBcnJheShyZXMuZGF0YS5kYXRhLmNvbnRlbnQpKSB7CiAgICAgICAgICAgIHRoaXMucmVjb3JkTGlzdCA9IHJlcy5kYXRhLmRhdGEuY29udGVudDsKICAgICAgICAgICAgdGhpcy5wYWdlLnRvdGFsID0gcmVzLmRhdGEuZGF0YS50b3RhbEVsZW1lbnRzOwogICAgICAgICAgICBjb25zb2xlLmxvZygnUmVjb3JkcyBsb2FkZWQ6JywgdGhpcy5yZWNvcmRMaXN0KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUud2FybignVW5leHBlY3RlZCBkYXRhIGZvcm1hdDonLCByZXMuZGF0YSk7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn5pWw5o2u5qC85byP5LiN5q2j56GuJyk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubXNnIHx8ICfojrflj5borrDlvZXliJfooajlpLHotKUnKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign6I635Y+W6K6w5b2V5YiX6KGo5aSx6LSlOicsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVycm9yLnJlc3BvbnNlPy5kYXRhPy5tc2cgfHwgJ+iOt+WPluiusOW9leWIl+ihqOWksei0pScpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlU2VhcmNoKCkgewogICAgICB0aGlzLnBhZ2UuY3VycmVudCA9IDEKICAgICAgdGhpcy5mZXRjaFJlY29yZExpc3QoKQogICAgfSwKICAgIHJlc2V0RmlsdGVyKCkgewogICAgICB0aGlzLmZpbHRlckZvcm0gPSB7CiAgICAgICAgc3BvcnRzSXRlbUlkOiAnJywKICAgICAgICB0ZWFjaGVySWQ6ICcnLAogICAgICAgIHN0YXR1czogJycsCiAgICAgICAgZGF0ZVJhbmdlOiBbXQogICAgICB9CiAgICAgIHRoaXMuaGFuZGxlU2VhcmNoKCkKICAgIH0sCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnBhZ2Uuc2l6ZSA9IHZhbAogICAgICB0aGlzLmZldGNoUmVjb3JkTGlzdCgpCiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlLmN1cnJlbnQgPSB2YWwKICAgICAgdGhpcy5mZXRjaFJlY29yZExpc3QoKQogICAgfSwKICAgIGhhbmRsZVJldmlldyhyb3cpIHsKICAgICAgdGhpcy5jdXJyZW50UmVjb3JkID0geyAuLi5yb3cgfQogICAgICB0aGlzLnJldmlld0Zvcm0gPSB7CiAgICAgICAgc3RhdHVzOiAnQVBQUk9WRUQnLAogICAgICAgIGNvbW1lbnQ6ICcnCiAgICAgIH0KICAgICAgdGhpcy5yZXZpZXdEaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgfSwKICAgIGhhbmRsZURldGFpbChyb3cpIHsKICAgICAgdGhpcy5jdXJyZW50UmVjb3JkID0geyAuLi5yb3cgfQogICAgICB0aGlzLmRldGFpbERpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICB9LAogICAgaGFuZGxlRWRpdChyb3cpIHsKICAgICAgdGhpcy5jdXJyZW50UmVjb3JkID0geyAuLi5yb3cgfQogICAgICB0aGlzLmVkaXRGb3JtID0gewogICAgICAgIHN0dWRlbnRJZDogcm93LnN0dWRlbnQ/LmlkLAogICAgICAgIHNwb3J0c0l0ZW1JZDogcm93LnNwb3J0c0l0ZW0/LmlkLAogICAgICAgIHNjb3JlOiByb3cuc2NvcmUsCiAgICAgICAgdGVzdFRpbWU6IHRoaXMuZm9ybWF0RGF0ZVRpbWUocm93LnRlc3RUaW1lKSwKICAgICAgICBzdGF0dXM6IHJvdy5zdGF0dXMsCiAgICAgICAgcmV2aWV3Q29tbWVudDogcm93LnJldmlld0NvbW1lbnQKICAgICAgfQogICAgICB0aGlzLmVkaXREaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgfSwKICAgIGZvcm1hdERhdGVUaW1lKGRhdGUpIHsKICAgICAgaWYgKCFkYXRlKSByZXR1cm4gJycKICAgICAgY29uc3QgZCA9IG5ldyBEYXRlKGRhdGUpCiAgICAgIGNvbnN0IHBhZCA9IChuKSA9PiBuIDwgMTAgPyBgMCR7bn1gIDogbgogICAgICByZXR1cm4gYCR7ZC5nZXRGdWxsWWVhcigpfS0ke3BhZChkLmdldE1vbnRoKCkgKyAxKX0tJHtwYWQoZC5nZXREYXRlKCkpfSAke3BhZChkLmdldEhvdXJzKCkpfToke3BhZChkLmdldE1pbnV0ZXMoKSl9OiR7cGFkKGQuZ2V0U2Vjb25kcygpKX1gCiAgICB9LAogICAgYXN5bmMgc3VibWl0UmV2aWV3KCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJGh0dHAucG9zdChgL2FkbWluL3Rlc3QtcmVjb3Jkcy9yZXZpZXcvJHt0aGlzLmN1cnJlbnRSZWNvcmQuaWR9YCwgewogICAgICAgICAgc3RhdHVzOiB0aGlzLnJldmlld0Zvcm0uc3RhdHVzLAogICAgICAgICAgY29tbWVudDogdGhpcy5yZXZpZXdGb3JtLmNvbW1lbnQKICAgICAgICB9KQogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5a6h5qC45a6M5oiQJykKICAgICAgICAgIHRoaXMucmV2aWV3RGlhbG9nVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICB0aGlzLmZldGNoUmVjb3JkTGlzdCgpCiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WuoeaguOWksei0pTonLCBlcnJvcikKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflrqHmoLjlpLHotKUnKQogICAgICB9CiAgICB9LAogICAgYXN5bmMgc3VibWl0RWRpdCgpIHsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCB0aGlzLiRyZWZzLmVkaXRGb3JtLnZhbGlkYXRlKCkKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLnB1dChgL2FkbWluL3Rlc3QtcmVjb3Jkcy8ke3RoaXMuY3VycmVudFJlY29yZC5pZH1gLCB7CiAgICAgICAgICAuLi50aGlzLmVkaXRGb3JtLAogICAgICAgICAgcmV2aWV3VGltZTogdGhpcy5lZGl0Rm9ybS5zdGF0dXMgIT09ICdQRU5ESU5HJyA/IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSA6IG51bGwKICAgICAgICB9KQogICAgICAgIAogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5L+u5pS55oiQ5YqfJykKICAgICAgICAgIHRoaXMuZWRpdERpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgICAgICAgdGhpcy5mZXRjaFJlY29yZExpc3QoKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1zZyB8fCAn5L+u5pS55aSx6LSlJykKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5L+u5pS55aSx6LSlOicsIGVycm9yKQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S/ruaUueWksei0pScpCiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVBZGQoKSB7CiAgICAgIHRoaXMuYWRkRm9ybSA9IHsKICAgICAgICBzdHVkZW50SWQ6ICcnLAogICAgICAgIHNwb3J0c0l0ZW1JZDogJycsCiAgICAgICAgc2NvcmU6IDAsCiAgICAgICAgdGVzdFRpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxOSkucmVwbGFjZSgnVCcsICcgJykKICAgICAgfQogICAgICB0aGlzLmFkZERpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICAgIGlmICh0aGlzLnN0dWRlbnRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuZmV0Y2hTdHVkZW50cygpCiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVJdGVtQ2hhbmdlKGl0ZW1JZCkgewogICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHRoaXMuc3BvcnRzSXRlbXMuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IGl0ZW1JZCkKICAgIH0sCiAgICBhc3luYyBzdWJtaXRBZGQoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgdGhpcy4kcmVmcy5hZGRGb3JtLnZhbGlkYXRlKCkKICAgICAgICAKICAgICAgICAvLyDovazmjaLml6XmnJ/ml7bpl7TmoLzlvI8KICAgICAgICBjb25zdCB0ZXN0VGltZSA9IHRoaXMuYWRkRm9ybS50ZXN0VGltZSA/IG5ldyBEYXRlKHRoaXMuYWRkRm9ybS50ZXN0VGltZSkgOiBuZXcgRGF0ZSgpOwogICAgICAgIAogICAgICAgIC8vIOaehOmAoOivt+axguaVsOaNrgogICAgICAgIGNvbnN0IHJlY29yZERhdGEgPSB7CiAgICAgICAgICBzdHVkZW50OiB7IGlkOiBwYXJzZUludCh0aGlzLmFkZEZvcm0uc3R1ZGVudElkKSB9LAogICAgICAgICAgc3BvcnRzSXRlbTogeyBpZDogcGFyc2VJbnQodGhpcy5hZGRGb3JtLnNwb3J0c0l0ZW1JZCkgfSwKICAgICAgICAgIHRlYWNoZXI6IHsgaWQ6IHBhcnNlSW50KHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuaWQpIH0sCiAgICAgICAgICBzY29yZTogcGFyc2VGbG9hdCh0aGlzLmFkZEZvcm0uc2NvcmUpLAogICAgICAgICAgdGVzdFRpbWU6IHRlc3RUaW1lLnRvSVNPU3RyaW5nKCksCiAgICAgICAgICBzdGF0dXM6ICdQRU5ESU5HJwogICAgICAgIH0KICAgICAgICAKICAgICAgICBjb25zb2xlLmxvZygnU3VibWl0dGluZyByZWNvcmQgZGF0YTonLCByZWNvcmREYXRhKTsKICAgICAgICAKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoJy9hZG1pbi90ZXN0LXJlY29yZHMvYWRkJywgcmVjb3JkRGF0YSkKICAgICAgICAKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+W9leWFpeaIkOWKnycpCiAgICAgICAgICB0aGlzLmFkZERpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgICAgICAgdGhpcy5mZXRjaFJlY29yZExpc3QoKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1zZyB8fCAn5b2V5YWl5aSx6LSlJykKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5b2V5YWl5aSx6LSlOicsIGVycm9yKQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyb3IucmVzcG9uc2U/LmRhdGE/Lm1zZyB8fCAn5b2V5YWl5aSx6LSlJykKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGZldGNoU3R1ZGVudHMoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoJy9hZG1pbi91c2VycycsIHsKICAgICAgICAgIHBhcmFtczogeyB1c2VyVHlwZTogJ1NUVURFTlQnIH0KICAgICAgICB9KQogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMuc3R1ZGVudHMgPSByZXMuZGF0YS5kYXRhCiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluWtpueUn+WIl+ihqOWksei0pTonLCBlcnJvcikKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5blrabnlJ/liJfooajlpLHotKUnKQogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["DataReview.vue"],"names":[],"mappings":";AA+RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DataReview.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\n  <div class=\"data-review\">\n    <!-- 搜索和筛选区域 -->\n    <div class=\"filter-section\">\n      <el-form :inline=\"true\" :model=\"filterForm\" class=\"filter-form\">\n        <el-form-item label=\"测试项目\">\n          <el-select v-model=\"filterForm.sportsItemId\" placeholder=\"选择测试项目\">\n            <el-option\n              v-for=\"item in sportsItems\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"录入教师\">\n          <el-select v-model=\"filterForm.teacherId\" placeholder=\"选择教师\">\n            <el-option\n              v-for=\"teacher in teachers\"\n              :key=\"teacher.id\"\n              :label=\"teacher.realName\"\n              :value=\"teacher.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"审核状态\">\n          <el-select v-model=\"filterForm.status\" placeholder=\"选择状态\">\n            <el-option label=\"待审核\" value=\"PENDING\"></el-option>\n            <el-option label=\"已通过\" value=\"APPROVED\"></el-option>\n            <el-option label=\"已驳回\" value=\"REJECTED\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"测试时间\">\n          <el-date-picker\n            v-model=\"filterForm.dateRange\"\n            type=\"daterange\"\n            range-separator=\"至\"\n            start-placeholder=\"开始日期\"\n            end-placeholder=\"结束日期\"\n            format=\"yyyy-MM-dd\"\n            value-format=\"yyyy-MM-dd\"\n          ></el-date-picker>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"handleSearch\">查询</el-button>\n          <el-button @click=\"resetFilter\">重置</el-button>\n        </el-form-item>\n      </el-form>\n      <div class=\"operation-buttons\">\n        <el-button type=\"primary\" @click=\"handleAdd\">\n          <i class=\"el-icon-plus\"></i> 录入成绩\n        </el-button>\n      </div>\n    </div>\n\n    <!-- 数据列表 -->\n    <el-table\n      :data=\"recordList\"\n      border\n      stripe\n      v-loading=\"loading\"\n      style=\"width: 100%\"\n    >\n      <el-table-column prop=\"id\" label=\"ID\" width=\"80\"></el-table-column>\n      <el-table-column label=\"学生姓名\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.student?.realName }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"测试项目\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.sportsItem?.name }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"测试成绩\">\n        <template slot-scope=\"scope\">\n          <span :class=\"{ 'abnormal-score': isAbnormalScore(scope.row) }\">\n            {{ scope.row.score }}{{ scope.row.sportsItem?.unit }}\n          </span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"teacher.realName\" label=\"录入教师\"></el-table-column>\n      <el-table-column prop=\"testTime\" label=\"测试时间\" width=\"180\">\n        <template slot-scope=\"scope\">\n          {{ formatDate(scope.row.testTime) }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\n        <template slot-scope=\"scope\">\n          <el-tag :type=\"getStatusType(scope.row.status)\">\n            {{ getStatusLabel(scope.row.status) }}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"250\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"primary\"\n            @click=\"handleReview(scope.row)\"\n            v-if=\"scope.row.status === 'PENDING'\"\n          >审核</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"warning\"\n            @click=\"handleEdit(scope.row)\"\n          >修改</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"info\"\n            @click=\"handleDetail(scope.row)\"\n          >详情</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 分页 -->\n    <div class=\"pagination-container\">\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"page.current\"\n        :page-sizes=\"[10, 20, 50, 100]\"\n        :page-size=\"page.size\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"page.total\"\n      ></el-pagination>\n    </div>\n\n    <!-- 审核对话框 -->\n    <el-dialog title=\"数据审核\" :visible.sync=\"reviewDialogVisible\" width=\"500px\">\n      <div class=\"review-info\">\n        <p><strong>学生：</strong>{{ currentRecord.student?.realName }}</p>\n        <p><strong>测试项目：</strong>{{ currentRecord.sportsItem?.name }}</p>\n        <p><strong>测试成绩：</strong>{{ currentRecord.score }}{{ currentRecord.sportsItem?.unit }}</p>\n        <p><strong>录入教师：</strong>{{ currentRecord.teacher?.realName }}</p>\n        <p><strong>测试时间：</strong>{{ formatDate(currentRecord.testTime) }}</p>\n        <p v-if=\"isAbnormalScore(currentRecord)\" class=\"warning-text\">\n          <i class=\"el-icon-warning\"></i> 该成绩可能异常，请仔细审核\n        </p>\n      </div>\n      <el-form :model=\"reviewForm\" ref=\"reviewForm\" label-width=\"80px\">\n        <el-form-item label=\"审核结果\" prop=\"status\">\n          <el-radio-group v-model=\"reviewForm.status\">\n            <el-radio label=\"APPROVED\">通过</el-radio>\n            <el-radio label=\"REJECTED\">驳回</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"审核意见\" prop=\"comment\">\n          <el-input\n            type=\"textarea\"\n            v-model=\"reviewForm.comment\"\n            :rows=\"3\"\n            placeholder=\"请输入审核意见\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button @click=\"reviewDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitReview\">确定</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 详情对话框 -->\n    <el-dialog title=\"详细信息\" :visible.sync=\"detailDialogVisible\" width=\"500px\">\n      <div class=\"detail-info\">\n        <p><strong>学生：</strong>{{ currentRecord.student?.realName }}</p>\n        <p><strong>测试项目：</strong>{{ currentRecord.sportsItem?.name }}</p>\n        <p><strong>测试成绩：</strong>{{ currentRecord.score }}{{ currentRecord.sportsItem?.unit }}</p>\n        <p><strong>录入教师：</strong>{{ currentRecord.teacher?.realName }}</p>\n        <p><strong>测试时间：</strong>{{ formatDate(currentRecord.testTime) }}</p>\n        <p><strong>审核状态：</strong>{{ getStatusLabel(currentRecord.status) }}</p>\n        <p><strong>审核意见：</strong>{{ currentRecord.reviewComment || '无' }}</p>\n        <p><strong>审核时间：</strong>{{ formatDate(currentRecord.reviewTime) || '未审核' }}</p>\n      </div>\n    </el-dialog>\n\n    <!-- 修改对话框 -->\n    <el-dialog title=\"修改测试记录\" :visible.sync=\"editDialogVisible\" width=\"500px\">\n      <el-form :model=\"editForm\" ref=\"editForm\" :rules=\"editRules\" label-width=\"100px\">\n        <el-form-item label=\"学生姓名\" prop=\"studentId\">\n          <el-select v-model=\"editForm.studentId\" placeholder=\"选择学生\" disabled>\n            <el-option\n              :label=\"currentRecord.student?.realName\"\n              :value=\"currentRecord.student?.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"测试项目\" prop=\"sportsItemId\">\n          <el-select v-model=\"editForm.sportsItemId\" placeholder=\"选择测试项目\" disabled>\n            <el-option\n              :label=\"currentRecord.sportsItem?.name\"\n              :value=\"currentRecord.sportsItem?.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"测试成绩\" prop=\"score\">\n          <el-input-number \n            v-model=\"editForm.score\" \n            :precision=\"2\"\n            :step=\"0.1\"\n            :min=\"0\"\n          ></el-input-number>\n          <span style=\"margin-left: 10px\">{{ currentRecord.sportsItem?.unit }}</span>\n        </el-form-item>\n        <el-form-item label=\"测试时间\" prop=\"testTime\">\n          <el-date-picker\n            v-model=\"editForm.testTime\"\n            type=\"datetime\"\n            placeholder=\"选择测试时间\"\n            format=\"yyyy-MM-dd HH:mm:ss\"\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\n          ></el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"审核状态\" prop=\"status\">\n          <el-select v-model=\"editForm.status\" placeholder=\"选择状态\">\n            <el-option label=\"待审核\" value=\"PENDING\"></el-option>\n            <el-option label=\"已通过\" value=\"APPROVED\"></el-option>\n            <el-option label=\"已驳回\" value=\"REJECTED\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"审核意见\" prop=\"reviewComment\">\n          <el-input\n            type=\"textarea\"\n            v-model=\"editForm.reviewComment\"\n            :rows=\"3\"\n            placeholder=\"请输入审核意见\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button @click=\"editDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitEdit\">确定</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 添加数据录入对话框 -->\n    <el-dialog title=\"录入成绩\" :visible.sync=\"addDialogVisible\" width=\"500px\">\n      <el-form :model=\"addForm\" :rules=\"addRules\" ref=\"addForm\" label-width=\"100px\">\n        <el-form-item label=\"学生\" prop=\"studentId\">\n          <el-select v-model=\"addForm.studentId\" placeholder=\"选择学生\" filterable>\n            <el-option\n              v-for=\"student in students\"\n              :key=\"student.id\"\n              :label=\"student.realName\"\n              :value=\"student.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"测试项目\" prop=\"sportsItemId\">\n          <el-select v-model=\"addForm.sportsItemId\" placeholder=\"选择测试项目\" @change=\"handleItemChange\">\n            <el-option\n              v-for=\"item in sportsItems\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"测试成绩\" prop=\"score\">\n          <el-input-number \n            v-model=\"addForm.score\" \n            :precision=\"2\"\n            :step=\"0.1\"\n            :min=\"0\"\n          ></el-input-number>\n          <span style=\"margin-left: 10px\">{{ selectedItem?.unit }}</span>\n        </el-form-item>\n        <el-form-item label=\"测试时间\" prop=\"testTime\">\n          <el-date-picker\n            v-model=\"addForm.testTime\"\n            type=\"datetime\"\n            placeholder=\"选择测试时间\"\n            format=\"yyyy-MM-dd HH:mm:ss\"\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\n          ></el-date-picker>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button @click=\"addDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitAdd\">确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'DataReview',\n  data() {\n    return {\n      filterForm: {\n        sportsItemId: '',\n        teacherId: '',\n        status: '',\n        dateRange: []\n      },\n      sportsItems: [],\n      teachers: [],\n      recordList: [],\n      loading: false,\n      page: {\n        current: 1,\n        size: 10,\n        total: 0\n      },\n      reviewDialogVisible: false,\n      detailDialogVisible: false,\n      editDialogVisible: false,\n      currentRecord: {},\n      reviewForm: {\n        status: 'APPROVED',\n        comment: ''\n      },\n      editForm: {\n        studentId: '',\n        sportsItemId: '',\n        score: 0,\n        testTime: '',\n        status: '',\n        reviewComment: ''\n      },\n      editRules: {\n        score: [\n          { required: true, message: '请输入测试成绩', trigger: 'blur' }\n        ],\n        testTime: [\n          { required: true, message: '请选择测试时间', trigger: 'change' }\n        ],\n        status: [\n          { required: true, message: '请选择审核状态', trigger: 'change' }\n        ]\n      },\n      addDialogVisible: false,\n      addForm: {\n        studentId: '',\n        sportsItemId: '',\n        score: 0,\n        testTime: ''\n      },\n      addRules: {\n        studentId: [\n          { required: true, message: '请选择学生', trigger: 'change' }\n        ],\n        sportsItemId: [\n          { required: true, message: '请选择测试项目', trigger: 'change' }\n        ],\n        score: [\n          { required: true, message: '请输入测试成绩', trigger: 'blur' }\n        ],\n        testTime: [\n          { required: true, message: '请选择测试时间', trigger: 'change' }\n        ]\n      },\n      selectedItem: null,\n      students: []\n    }\n  },\n  created() {\n    this.fetchSportsItems()\n    this.fetchTeachers()\n    this.fetchRecordList()\n  },\n  methods: {\n    formatDate(date) {\n      if (!date) return ''\n      return new Date(date).toLocaleString()\n    },\n    getStatusType(status) {\n      const typeMap = {\n        'PENDING': 'warning',\n        'APPROVED': 'success',\n        'REJECTED': 'danger'\n      }\n      return typeMap[status] || 'info'\n    },\n    getStatusLabel(status) {\n      const labelMap = {\n        'PENDING': '待审核',\n        'APPROVED': '已通过',\n        'REJECTED': '已驳回'\n      }\n      return labelMap[status] || '未知'\n    },\n    isAbnormalScore(record) {\n      if (!record || !record.sportsItem) return false;\n      \n      const abnormalRules = {\n        '100米跑': (score) => score < 9 || score > 20,\n        '立定跳远': (score) => score < 1.5 || score > 3.5,\n        '引体向上': (score) => score < 0 || score > 30,\n        '1000米跑': (score) => score < 180 || score > 600,\n        '仰卧起坐': (score) => score < 10 || score > 80\n      };\n\n      const rule = abnormalRules[record.sportsItem.name];\n      return rule ? rule(record.score) : false;\n    },\n    async fetchSportsItems() {\n      try {\n        const res = await this.$http.get('/admin/sports-items')\n        if (res.data.code === 200) {\n          this.sportsItems = res.data.data\n        }\n      } catch (error) {\n        console.error('获取体育项目失败:', error)\n        this.$message.error('获取体育项目失败')\n      }\n    },\n    async fetchTeachers() {\n      try {\n        const res = await this.$http.get('/admin/users', {\n          params: { userType: 'TEACHER' }\n        })\n        if (res.data.code === 200) {\n          this.teachers = res.data.data\n        }\n      } catch (error) {\n        console.error('获取教师列表失败:', error)\n        this.$message.error('获取教师列表失败')\n      }\n    },\n    async fetchRecordList() {\n      try {\n        this.loading = true\n        const params = {\n          page: this.page.current,\n          size: this.page.size,\n          status: this.filterForm.status || null,\n          teacherId: this.filterForm.teacherId || null,\n          sportsItemId: this.filterForm.sportsItemId || null,\n          startDate: this.filterForm.dateRange?.[0] || null,\n          endDate: this.filterForm.dateRange?.[1] || null\n        }\n        \n        // 移除所有空值参数\n        Object.keys(params).forEach(key => {\n          if (params[key] === null || params[key] === '') {\n            delete params[key];\n          }\n        });\n\n        console.log('Fetching records with params:', params);\n        const res = await this.$http.get('/admin/test-records/review', { params })\n        console.log('Response:', res.data);\n\n        if (res.data.code === 200) {\n          if (res.data.data && Array.isArray(res.data.data.content)) {\n            this.recordList = res.data.data.content;\n            this.page.total = res.data.data.totalElements;\n            console.log('Records loaded:', this.recordList);\n          } else {\n            console.warn('Unexpected data format:', res.data);\n            this.$message.warning('数据格式不正确');\n          }\n        } else {\n          this.$message.error(res.data.msg || '获取记录列表失败');\n        }\n      } catch (error) {\n        console.error('获取记录列表失败:', error);\n        this.$message.error(error.response?.data?.msg || '获取记录列表失败');\n      } finally {\n        this.loading = false;\n      }\n    },\n    handleSearch() {\n      this.page.current = 1\n      this.fetchRecordList()\n    },\n    resetFilter() {\n      this.filterForm = {\n        sportsItemId: '',\n        teacherId: '',\n        status: '',\n        dateRange: []\n      }\n      this.handleSearch()\n    },\n    handleSizeChange(val) {\n      this.page.size = val\n      this.fetchRecordList()\n    },\n    handleCurrentChange(val) {\n      this.page.current = val\n      this.fetchRecordList()\n    },\n    handleReview(row) {\n      this.currentRecord = { ...row }\n      this.reviewForm = {\n        status: 'APPROVED',\n        comment: ''\n      }\n      this.reviewDialogVisible = true\n    },\n    handleDetail(row) {\n      this.currentRecord = { ...row }\n      this.detailDialogVisible = true\n    },\n    handleEdit(row) {\n      this.currentRecord = { ...row }\n      this.editForm = {\n        studentId: row.student?.id,\n        sportsItemId: row.sportsItem?.id,\n        score: row.score,\n        testTime: this.formatDateTime(row.testTime),\n        status: row.status,\n        reviewComment: row.reviewComment\n      }\n      this.editDialogVisible = true\n    },\n    formatDateTime(date) {\n      if (!date) return ''\n      const d = new Date(date)\n      const pad = (n) => n < 10 ? `0${n}` : n\n      return `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())} ${pad(d.getHours())}:${pad(d.getMinutes())}:${pad(d.getSeconds())}`\n    },\n    async submitReview() {\n      try {\n        const res = await this.$http.post(`/admin/test-records/review/${this.currentRecord.id}`, {\n          status: this.reviewForm.status,\n          comment: this.reviewForm.comment\n        })\n        if (res.data.code === 200) {\n          this.$message.success('审核完成')\n          this.reviewDialogVisible = false\n          this.fetchRecordList()\n        }\n      } catch (error) {\n        console.error('审核失败:', error)\n        this.$message.error('审核失败')\n      }\n    },\n    async submitEdit() {\n      try {\n        await this.$refs.editForm.validate()\n        const res = await this.$http.put(`/admin/test-records/${this.currentRecord.id}`, {\n          ...this.editForm,\n          reviewTime: this.editForm.status !== 'PENDING' ? new Date().toISOString() : null\n        })\n        \n        if (res.data.code === 200) {\n          this.$message.success('修改成功')\n          this.editDialogVisible = false\n          this.fetchRecordList()\n        } else {\n          this.$message.error(res.data.msg || '修改失败')\n        }\n      } catch (error) {\n        console.error('修改失败:', error)\n        this.$message.error('修改失败')\n      }\n    },\n    handleAdd() {\n      this.addForm = {\n        studentId: '',\n        sportsItemId: '',\n        score: 0,\n        testTime: new Date().toISOString().slice(0, 19).replace('T', ' ')\n      }\n      this.addDialogVisible = true\n      if (this.students.length === 0) {\n        this.fetchStudents()\n      }\n    },\n    handleItemChange(itemId) {\n      this.selectedItem = this.sportsItems.find(item => item.id === itemId)\n    },\n    async submitAdd() {\n      try {\n        await this.$refs.addForm.validate()\n        \n        // 转换日期时间格式\n        const testTime = this.addForm.testTime ? new Date(this.addForm.testTime) : new Date();\n        \n        // 构造请求数据\n        const recordData = {\n          student: { id: parseInt(this.addForm.studentId) },\n          sportsItem: { id: parseInt(this.addForm.sportsItemId) },\n          teacher: { id: parseInt(this.$store.state.user.id) },\n          score: parseFloat(this.addForm.score),\n          testTime: testTime.toISOString(),\n          status: 'PENDING'\n        }\n        \n        console.log('Submitting record data:', recordData);\n        \n        const res = await this.$http.post('/admin/test-records/add', recordData)\n        \n        if (res.data.code === 200) {\n          this.$message.success('录入成功')\n          this.addDialogVisible = false\n          this.fetchRecordList()\n        } else {\n          this.$message.error(res.data.msg || '录入失败')\n        }\n      } catch (error) {\n        console.error('录入失败:', error)\n        this.$message.error(error.response?.data?.msg || '录入失败')\n      }\n    },\n    async fetchStudents() {\n      try {\n        const res = await this.$http.get('/admin/users', {\n          params: { userType: 'STUDENT' }\n        })\n        if (res.data.code === 200) {\n          this.students = res.data.data\n        }\n      } catch (error) {\n        console.error('获取学生列表失败:', error)\n        this.$message.error('获取学生列表失败')\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.data-review {\n  padding: 20px;\n}\n\n.filter-section {\n  margin-bottom: 20px;\n  background-color: #f5f7fa;\n  padding: 20px;\n  border-radius: 4px;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n}\n\n.filter-form {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n}\n\n.pagination-container {\n  margin-top: 20px;\n  text-align: right;\n}\n\n.abnormal-score {\n  color: #f56c6c;\n  font-weight: bold;\n}\n\n.review-info, .detail-info {\n  background-color: #f5f7fa;\n  padding: 15px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n}\n\n.warning-text {\n  color: #e6a23c;\n  margin-top: 10px;\n}\n\n.warning-text i {\n  margin-right: 5px;\n}\n\n.operation-buttons {\n  margin-left: 20px;\n}\n</style> "]}]}