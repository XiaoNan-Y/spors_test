{"remainingRequest":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\src\\views\\admin\\DataReview.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\src\\views\\admin\\DataReview.vue","mtime":1741935844661},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741355860000},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\babel-loader\\lib\\index.js","mtime":1741355860000},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741355860000},{"path":"C:\\Users\\HP\\Desktop\\sports_test\\sports_front\\node_modules\\vue-loader\\lib\\index.js","mtime":1741355860000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IAogIGdldFRlc3RSZWNvcmRzLCAKICBhZGRUZXN0UmVjb3JkLCAKICByZXZpZXdUZXN0UmVjb3JkLAogIGdldEhpc3RvcnlSZWNvcmRzLAogIGV4cG9ydFJlY29yZHMsCiAgZG93bmxvYWRUZW1wbGF0ZSwKICBtb2RpZnlSZXZpZXcKfSBmcm9tICdAL2FwaS90ZXN0UmVjb3JkJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdEYXRhUmV2aWV3JywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHRvdGFsOiAwLAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgIHNwb3J0c0l0ZW1JZDogdW5kZWZpbmVkLAogICAgICAgIHN0YXR1czogdW5kZWZpbmVkLAogICAgICAgIGtleXdvcmQ6ICcnCiAgICAgIH0sCiAgICAgIHNwb3J0c0l0ZW1zOiBbXSwKICAgICAgY2xhc3NMaXN0OiBbXSwKICAgICAgYWRkRGlhbG9nOiB7CiAgICAgICAgdmlzaWJsZTogZmFsc2UKICAgICAgfSwKICAgICAgZm9ybTogewogICAgICAgIHN0dWRlbnRJZDogbnVsbCwKICAgICAgICBzcG9ydHNJdGVtSWQ6IG51bGwsCiAgICAgICAgc2NvcmU6IG51bGwsCiAgICAgICAgY2xhc3NOYW1lOiBudWxsCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgc3R1ZGVudElkOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5a2m55SfJywgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgIF0sCiAgICAgICAgc3BvcnRzSXRlbUlkOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5rWL6K+V6aG555uuJywgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgIF0sCiAgICAgICAgc2NvcmU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXmtYvor5XmiJDnu6knLCB0cmlnZ2VyOiAnYmx1cicgfSwKICAgICAgICAgIHsgdHlwZTogJ251bWJlcicsIG1lc3NhZ2U6ICfmiJDnu6nlv4XpobvkuLrmlbDlrZcnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgY2xhc3NOYW1lOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup54+t57qnJywgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgdGVhY2hlcnM6IFtdLAogICAgICBzZWxlY3RlZEl0ZW1Vbml0OiAnJywKICAgICAgc3R1ZGVudHM6IFtdLAogICAgICByZXZpZXdEaWFsb2c6IHsKICAgICAgICB2aXNpYmxlOiBmYWxzZQogICAgICB9LAogICAgICBjdXJyZW50UmVjb3JkOiBudWxsLAogICAgICByZXZpZXdGb3JtOiB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgc3RhdHVzOiAnJywKICAgICAgICBjb21tZW50OiAnJwogICAgICB9LAogICAgICByZXZpZXdSdWxlczogewogICAgICAgIHN0YXR1czogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nlrqHmoLjnu5PmnpwnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9XSwKICAgICAgICBjb21tZW50OiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWuoeaguOaEj+ingScsIHRyaWdnZXI6ICdibHVyJyB9XQogICAgICB9LAogICAgICBzdHVkZW50TG9hZGluZzogZmFsc2UsCiAgICAgIGRldGFpbERpYWxvZzogewogICAgICAgIHZpc2libGU6IGZhbHNlCiAgICAgIH0sCiAgICAgIGhpc3RvcnlSZWNvcmRzOiBbXSwKICAgICAgbW9kaWZ5RGlhbG9nOiB7CiAgICAgICAgdmlzaWJsZTogZmFsc2UKICAgICAgfSwKICAgICAgbW9kaWZ5Rm9ybTogewogICAgICAgIGlkOiBudWxsLAogICAgICAgIHN0YXR1czogJycsCiAgICAgICAgY29tbWVudDogJycKICAgICAgfSwKICAgICAgbW9kaWZ5UnVsZXM6IHsKICAgICAgICBzdGF0dXM6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5a6h5qC454q25oCBJywgdHJpZ2dlcjogJ2NoYW5nZScgfV0sCiAgICAgICAgY29tbWVudDogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXlrqHmoLjmhI/op4EnLCB0cmlnZ2VyOiAnYmx1cicgfV0KICAgICAgfSwKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXQoKQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgaW5pdCgpIHsKICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoWwogICAgICAgIHRoaXMuZ2V0U3BvcnRzSXRlbXMoKSwKICAgICAgICB0aGlzLmdldENsYXNzTGlzdCgpLAogICAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICAgIF0pCiAgICB9LAogICAgYXN5bmMgZ2V0TGlzdCgpIHsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kYXhpb3MuZ2V0KCcvYXBpL2FkbWluL2RhdGEtcmV2aWV3L2xpc3QnLCB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgcGFnZTogdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtIC0gMSwKICAgICAgICAgICAgc2l6ZTogdGhpcy5xdWVyeVBhcmFtcy5wYWdlU2l6ZSwKICAgICAgICAgICAgc3BvcnRzSXRlbUlkOiB0aGlzLnF1ZXJ5UGFyYW1zLnNwb3J0c0l0ZW1JZCB8fCBudWxsLAogICAgICAgICAgICBzdGF0dXM6IHRoaXMucXVlcnlQYXJhbXMuc3RhdHVzIHx8IG51bGwsCiAgICAgICAgICAgIGtleXdvcmQ6IHRoaXMucXVlcnlQYXJhbXMua2V5d29yZCB8fCBudWxsCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlc3BvbnNlLmRhdGEuZGF0YS5jb250ZW50OwogICAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLmRhdGEuZGF0YS50b3RhbEVsZW1lbnRzOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5bliJfooajlpLHotKU6JywgZXJyb3IpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPluWIl+ihqOWksei0pTogJyArIGVycm9yLm1lc3NhZ2UpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgZ2V0U3BvcnRzSXRlbXMoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoJy9hcGkvYWRtaW4vc3BvcnRzLWl0ZW1zJywgewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIHBhZ2U6IDAsCiAgICAgICAgICAgIHNpemU6IDEwMAogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5zcG9ydHNJdGVtcyA9IHJlcy5kYXRhLmRhdGEuY29udGVudCB8fCBbXQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5bkvZPmtYvpobnnm67liJfooajlpLHotKU6JywgZXJyb3IpCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W5L2T5rWL6aG555uu5YiX6KGo5aSx6LSlJykKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVF1ZXJ5KCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VOdW0gPSAxCiAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB9LAogICAgcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy4kcmVmcy5xdWVyeUZvcm0ucmVzZXRGaWVsZHMoKQogICAgICB0aGlzLnF1ZXJ5UGFyYW1zID0gewogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgIHNwb3J0c0l0ZW1JZDogdW5kZWZpbmVkLAogICAgICAgIHN0YXR1czogdW5kZWZpbmVkLAogICAgICAgIGtleXdvcmQ6ICcnCiAgICAgIH0KICAgICAgdGhpcy5nZXRMaXN0KCkKICAgIH0sCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VTaXplID0gdmFsCiAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gdmFsCiAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB9LAogICAgZ2V0U3RhdHVzVHlwZShzdGF0dXMpIHsKICAgICAgY29uc3Qgc3RhdHVzTWFwID0gewogICAgICAgICdQRU5ESU5HJzogJ3dhcm5pbmcnLAogICAgICAgICdBUFBST1ZFRCc6ICdzdWNjZXNzJywKICAgICAgICAnUkVKRUNURUQnOiAnZGFuZ2VyJwogICAgICB9CiAgICAgIHJldHVybiBzdGF0dXNNYXBbc3RhdHVzXSB8fCAnaW5mbycKICAgIH0sCiAgICBnZXRTdGF0dXNUZXh0KHN0YXR1cykgewogICAgICBjb25zdCBzdGF0dXNNYXAgPSB7CiAgICAgICAgJ1BFTkRJTkcnOiAn5b6F5a6h5qC4JywKICAgICAgICAnQVBQUk9WRUQnOiAn5bey6YCa6L+HJywKICAgICAgICAnUkVKRUNURUQnOiAn5bey6amz5ZueJwogICAgICB9CiAgICAgIHJldHVybiBzdGF0dXNNYXBbc3RhdHVzXSB8fCBzdGF0dXMKICAgIH0sCiAgICBoYW5kbGVBZGQoKSB7CiAgICAgIHRoaXMuYWRkRGlhbG9nLnZpc2libGUgPSB0cnVlCiAgICAgIHRoaXMucmVzZXRGb3JtKCkKICAgIH0sCiAgICByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICBpZiAodGhpcy4kcmVmcy5yZWNvcmRGb3JtKSB7CiAgICAgICAgICB0aGlzLiRyZWZzLnJlY29yZEZvcm0ucmVzZXRGaWVsZHMoKQogICAgICAgIH0KICAgICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgICBzdHVkZW50SWQ6IG51bGwsCiAgICAgICAgICBzcG9ydHNJdGVtSWQ6IG51bGwsCiAgICAgICAgICBzY29yZTogbnVsbCwKICAgICAgICAgIGNsYXNzTmFtZTogbnVsbAogICAgICAgIH0KICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbVVuaXQgPSAnJwogICAgICB9KQogICAgfSwKICAgIGhhbmRsZURpYWxvZ0Nsb3NlZCgpIHsKICAgICAgdGhpcy5yZXNldEZvcm0oKQogICAgfSwKICAgIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHRoaXMuJHJlZnMucmVjb3JkRm9ybS52YWxpZGF0ZShhc3luYyAodmFsaWQpID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICAgICAgc3R1ZGVudElkOiB0aGlzLmZvcm0uc3R1ZGVudElkLAogICAgICAgICAgICAgIHNwb3J0c0l0ZW1JZDogdGhpcy5mb3JtLnNwb3J0c0l0ZW1JZCwKICAgICAgICAgICAgICBzY29yZTogTnVtYmVyKHRoaXMuZm9ybS5zY29yZSksCiAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0aGlzLmZvcm0uY2xhc3NOYW1lLAogICAgICAgICAgICAgIHRlYWNoZXJJZDogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKS5pZAogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBhZGRUZXN0UmVjb3JkKGRhdGEpCiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+aIkOe7qeW9leWFpeaIkOWKnycpCiAgICAgICAgICAgICAgdGhpcy5hZGREaWFsb2cudmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1lc3NhZ2UgfHwgJ+W9leWFpeWksei0pScpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+W9leWFpeaIkOe7qeWksei0pTonLCBlcnJvcikKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSB8fCAn5b2V5YWl5oiQ57up5aSx6LSlJykKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgYXN5bmMgZ2V0VGVhY2hlcnMoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoJy9hcGkvYWRtaW4vdXNlcnMnLCB7CiAgICAgICAgICBwYXJhbXM6IHsgdXNlclR5cGU6ICdURUFDSEVSJyB9CiAgICAgICAgfSkKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLnRlYWNoZXJzID0gcmVzLmRhdGEuZGF0YS5jb250ZW50CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluaVmeW4iOWIl+ihqOWksei0pTonLCBlcnJvcikKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGdldFN0dWRlbnRzKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCcvYXBpL2FkbWluL3VzZXJzJywgewogICAgICAgICAgcGFyYW1zOiB7IHVzZXJUeXBlOiAnU1RVREVOVCcgfQogICAgICAgIH0pCiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5zdHVkZW50cyA9IHJlcy5kYXRhLmRhdGEuY29udGVudAogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5blrabnlJ/liJfooajlpLHotKU6JywgZXJyb3IpCiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBoYW5kbGVFeHBvcnQoKSB7CiAgICAgIC8vIOaehOW7uuafpeivouWPguaVsAogICAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgICAgc3RhdHVzOiB0aGlzLnF1ZXJ5UGFyYW1zLnN0YXR1cywKICAgICAgICB0ZWFjaGVySWQ6IHRoaXMucXVlcnlQYXJhbXMudGVhY2hlcklkLAogICAgICAgIHNwb3J0c0l0ZW1JZDogdGhpcy5xdWVyeVBhcmFtcy5zcG9ydHNJdGVtSWQKICAgICAgfQogICAgICAKICAgICAgLy8g5p6E5bu65p+l6K+i5a2X56ym5LiyCiAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gT2JqZWN0LmVudHJpZXMocGFyYW1zKQogICAgICAgIC5maWx0ZXIoKFtfLCB2YWx1ZV0pID0+IHZhbHVlICE9IG51bGwgJiYgdmFsdWUgIT09ICcnKQogICAgICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYCR7a2V5fT0ke3ZhbHVlfWApCiAgICAgICAgLmpvaW4oJyYnKQogICAgICAKICAgICAgLy8g5LiL6L295paH5Lu2CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYC9hcGkvYWRtaW4vdGVzdC1yZWNvcmQvZXhwb3J0JHtxdWVyeVN0cmluZyA/ICc/JyArIHF1ZXJ5U3RyaW5nIDogJyd9YAogICAgfSwKICAgIGhhbmRsZVNwb3J0c0l0ZW1DaGFuZ2UodmFsdWUpIHsKICAgICAgY29uc3Qgc2VsZWN0ZWRJdGVtID0gdGhpcy5zcG9ydHNJdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gdmFsdWUpCiAgICAgIGlmIChzZWxlY3RlZEl0ZW0pIHsKICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbVVuaXQgPSBzZWxlY3RlZEl0ZW0udW5pdAogICAgICAgIGNvbnNvbGUubG9nKCfpgInkuK3nmoTpobnnm646Jywgc2VsZWN0ZWRJdGVtKQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtVW5pdCA9ICcnCiAgICAgIH0KICAgICAgdGhpcy5mb3JtLnNjb3JlID0gbnVsbAogICAgfSwKICAgIGhhbmRsZVJldmlldyhyb3cpIHsKICAgICAgdGhpcy5jdXJyZW50UmVjb3JkID0geyAuLi5yb3cgfTsgLy8g5Yib5bu65Ymv5pys5Lul6YG/5YWN55u05o6l5L+u5pS5CiAgICAgIHRoaXMucmV2aWV3Rm9ybSA9IHsKICAgICAgICBpZDogcm93LmlkLAogICAgICAgIHN0YXR1czogJycsCiAgICAgICAgY29tbWVudDogJycKICAgICAgfTsKICAgICAgdGhpcy5yZXZpZXdEaWFsb2cudmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgYXN5bmMgaGFuZGxlRGV0YWlsKHJvdykgewogICAgICB0aGlzLmN1cnJlbnRSZWNvcmQgPSB7IC4uLnJvdyB9OyAvLyDliJvlu7rlia/mnKzku6Xpgb/lhY3nm7TmjqXkv67mlLkKICAgICAgdGhpcy5kZXRhaWxEaWFsb2cudmlzaWJsZSA9IHRydWU7CiAgICAgIAogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdldEhpc3RvcnlSZWNvcmRzKHsKICAgICAgICAgIHN0dWRlbnROdW1iZXI6IHJvdy5zdHVkZW50TnVtYmVyLAogICAgICAgICAgc3BvcnRzSXRlbUlkOiByb3cuc3BvcnRzSXRlbUlkLAogICAgICAgICAgZXhjbHVkZUlkOiByb3cuaWQKICAgICAgICB9KTsKICAgICAgICAKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLmhpc3RvcnlSZWNvcmRzID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKHJlcy5kYXRhLm1zZyB8fCAn6I635Y+W5Y6G5Y+y6K6w5b2V5aSx6LSlJyk7CiAgICAgICAgICB0aGlzLmhpc3RvcnlSZWNvcmRzID0gW107CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluWOhuWPsuiusOW9leWksei0pTonLCBlcnJvcik7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W5Y6G5Y+y6K6w5b2V5aSx6LSlJyk7CiAgICAgICAgdGhpcy5oaXN0b3J5UmVjb3JkcyA9IFtdOwogICAgICB9CiAgICB9LAogICAgc3VibWl0UmV2aWV3KCkgewogICAgICB0aGlzLiRyZWZzLnJldmlld0Zvcm0udmFsaWRhdGUoYXN5bmMgKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAgIGlkOiB0aGlzLmN1cnJlbnRSZWNvcmQuaWQsCiAgICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnJldmlld0Zvcm0uc3RhdHVzLAogICAgICAgICAgICAgIHJldmlld0NvbW1lbnQ6IHRoaXMucmV2aWV3Rm9ybS5jb21tZW50CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCByZXZpZXdUZXN0UmVjb3JkKGRhdGEpOwogICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCflrqHmoLjmiJDlip8nKTsKICAgICAgICAgICAgICB0aGlzLnJldmlld0RpYWxvZy52aXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cgfHwgJ+WuoeaguOWksei0pScpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCflrqHmoLjlpLHotKU6JywgZXJyb3IpOwogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflrqHmoLjlpLHotKUnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNhblJldmlldyhyZWNvcmQpIHsKICAgICAgcmV0dXJuIHJlY29yZC5zdGF0dXMgPT09ICdQRU5ESU5HJyB8fCByZWNvcmQuc3RhdHVzID09PSAnUkVKRUNURUQnCiAgICB9LAogICAgc2VhcmNoU3R1ZGVudHMocXVlcnkpIHsKICAgICAgdGhpcy5zdHVkZW50TG9hZGluZyA9IHRydWUKICAgICAgdGhpcy4kaHR0cC5nZXQoJy9hcGkvYWRtaW4vdXNlcnMnLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICB1c2VyVHlwZTogJ1NUVURFTlQnLAogICAgICAgICAgcmVhbE5hbWU6IHF1ZXJ5CiAgICAgICAgfQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5zdHVkZW50cyA9IHJlcy5kYXRhLmRhdGEuY29udGVudAogICAgICAgIH0KICAgICAgICB0aGlzLnN0dWRlbnRMb2FkaW5nID0gZmFsc2UKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluWtpueUn+WIl+ihqOWksei0pTonLCBlcnJvcikKICAgICAgICB0aGlzLnN0dWRlbnRMb2FkaW5nID0gZmFsc2UKICAgICAgfSkKICAgIH0sCiAgICBmb3JtYXREYXRlVGltZShkYXRlVGltZSkgewogICAgICBpZiAoIWRhdGVUaW1lKSByZXR1cm4gJy0nCiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlVGltZSkKICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVTdHJpbmcoJ3poLUNOJywgewogICAgICAgIHllYXI6ICdudW1lcmljJywKICAgICAgICBtb250aDogJzItZGlnaXQnLAogICAgICAgIGRheTogJzItZGlnaXQnLAogICAgICAgIGhvdXI6ICcyLWRpZ2l0JywKICAgICAgICBtaW51dGU6ICcyLWRpZ2l0JywKICAgICAgICBzZWNvbmQ6ICcyLWRpZ2l0JywKICAgICAgICBob3VyMTI6IGZhbHNlCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlTW9kaWZ5KHJvdykgewogICAgICB0aGlzLmN1cnJlbnRSZWNvcmQgPSB7IC4uLnJvdyB9OyAvLyDliJvlu7rlia/mnKzku6Xpgb/lhY3nm7TmjqXkv67mlLkKICAgICAgdGhpcy5tb2RpZnlGb3JtID0gewogICAgICAgIGlkOiByb3cuaWQsCiAgICAgICAgc3RhdHVzOiByb3cuc3RhdHVzLAogICAgICAgIGNvbW1lbnQ6IHJvdy5yZXZpZXdDb21tZW50IHx8ICcnCiAgICAgIH07CiAgICAgIHRoaXMubW9kaWZ5RGlhbG9nLnZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIHN1Ym1pdE1vZGlmeSgpIHsKICAgICAgdGhpcy4kcmVmcy5tb2RpZnlGb3JtLnZhbGlkYXRlKGFzeW5jICh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgICAgICBpZDogdGhpcy5jdXJyZW50UmVjb3JkLmlkLAogICAgICAgICAgICAgIHN0YXR1czogdGhpcy5tb2RpZnlGb3JtLnN0YXR1cywKICAgICAgICAgICAgICByZXZpZXdDb21tZW50OiB0aGlzLm1vZGlmeUZvcm0uY29tbWVudAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgbW9kaWZ5UmV2aWV3KGRhdGEpOwogICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfkv67mlLnmiJDlip8nKTsKICAgICAgICAgICAgICB0aGlzLm1vZGlmeURpYWxvZy52aXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cgfHwgJ+S/ruaUueWksei0pScpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCfkv67mlLnlpLHotKU6JywgZXJyb3IpOwogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkv67mlLnlpLHotKUnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNhbk1vZGlmeShyb3cpIHsKICAgICAgLy8g5bey5a6h5qC455qE6K6w5b2V5Y+v5Lul5L+u5pS5CiAgICAgIHJldHVybiByb3cuc3RhdHVzID09PSAnQVBQUk9WRUQnIHx8IHJvdy5zdGF0dXMgPT09ICdSRUpFQ1RFRCcKICAgIH0sCiAgICBhc3luYyBnZXRDbGFzc0xpc3QoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoJy9hcGkvYWRtaW4vY2xhc3NlcycpCiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5jbGFzc0xpc3QgPSByZXMuZGF0YS5kYXRhIHx8IFtdCiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluePree6p+WIl+ihqOWksei0pTonLCBlcnJvcikKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5bnj63nuqfliJfooajlpLHotKUnKQogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["DataReview.vue"],"names":[],"mappings":";AAsXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DataReview.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\n  <div class=\"data-review\">\n    <!-- 顶部操作栏 -->\n    <div class=\"operation-bar\">\n      <el-button type=\"primary\" @click=\"handleAdd\">\n        <i class=\"el-icon-plus\"></i> 录入成绩\n      </el-button>\n      <el-button type=\"success\" @click=\"handleExport\">\n        <i class=\"el-icon-download\"></i> 导出数据\n      </el-button>\n    </div>\n\n   <!-- 搜索筛选区 -->\n<div class=\"filter-section\">\n  <el-form :inline=\"true\" :model=\"queryParams\" ref=\"queryForm\">\n    <el-form-item label=\"测试项目\">\n      <el-select v-model=\"queryParams.sportsItemId\" placeholder=\"选择测试项目\" clearable>\n        <el-option\n          v-for=\"item in sportsItems\"\n          :key=\"item.id\"\n          :label=\"item.name\"\n          :value=\"item.id\"\n        ></el-option>\n      </el-select>\n    </el-form-item>\n    <el-form-item label=\"状态\">\n      <el-select v-model=\"queryParams.status\" placeholder=\"选择状态\" clearable>\n        <el-option label=\"待审核\" value=\"PENDING\"></el-option>\n        <el-option label=\"已通过\" value=\"APPROVED\"></el-option>\n        <el-option label=\"已驳回\" value=\"REJECTED\"></el-option>\n      </el-select>\n    </el-form-item>\n    <el-form-item label=\"关键字\">\n      <el-input \n        v-model=\"queryParams.keyword\" \n        placeholder=\"学生/教师姓名\"\n        clearable\n      ></el-input>\n    </el-form-item>\n    <el-form-item>\n      <el-button type=\"primary\" @click=\"handleQuery\">查询</el-button>\n      <el-button @click=\"resetQuery\">重置</el-button>\n    </el-form-item>\n  </el-form>\n</div>\n\n    <!-- 数据表格 -->\n    <el-card class=\"table-card\">\n      <!-- 数据表格部分 -->\n    <el-table\n      v-loading=\"loading\"\n      :data=\"tableData\"\n      style=\"width: 100%\"\n      border>\n      <el-table-column\n        type=\"index\"\n        label=\"序号\"\n        width=\"60\"\n        align=\"center\">\n      </el-table-column>\n      <el-table-column\n        prop=\"studentInfo.realName\"\n        label=\"学生姓名\"\n        align=\"center\">\n      </el-table-column>\n      <el-table-column\n        prop=\"studentInfo.studentNumber\"\n        label=\"学生学号\"\n        align=\"center\">\n      </el-table-column>\n      <el-table-column\n        prop=\"studentInfo.className\"\n        label=\"班级\"\n        align=\"center\">\n      </el-table-column>\n      <el-table-column\n        prop=\"sportsItem.name\"\n        label=\"测试项目\"\n        align=\"center\">\n      </el-table-column>\n      <el-table-column\n        prop=\"score\"\n        label=\"成绩\"\n        align=\"center\">\n      </el-table-column>\n      <el-table-column\n        prop=\"status\"\n        label=\"状态\"\n        align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tag :type=\"getStatusType(scope.row.status)\">\n            {{ getStatusText(scope.row.status) }}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"140\" fixed=\"right\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tooltip content=\"审核\" placement=\"top\" :disabled=\"!canReview(scope.row)\">\n            <el-button\n              v-if=\"canReview(scope.row)\"\n              type=\"primary\"\n              icon=\"el-icon-check\"\n              size=\"mini\"\n              circle\n              @click=\"handleReview(scope.row)\"\n            ></el-button>\n          </el-tooltip>\n          <el-tooltip content=\"修改\" placement=\"top\" :disabled=\"!canModify(scope.row)\">\n            <el-button\n              v-if=\"canModify(scope.row)\"\n              type=\"warning\"\n              icon=\"el-icon-edit\"\n              size=\"mini\"\n              circle\n              @click=\"handleModify(scope.row)\"\n            ></el-button>\n          </el-tooltip>\n          <el-tooltip content=\"详情\" placement=\"top\">\n            <el-button\n              type=\"info\"\n              icon=\"el-icon-view\"\n              size=\"mini\"\n              circle\n              @click=\"handleDetail(scope.row)\"\n            ></el-button>\n          </el-tooltip>\n        </template>\n      </el-table-column>\n    </el-table>\n\n      <!-- 分页 -->\n      <div class=\"pagination-container\">\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page.sync=\"queryParams.pageNum\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          :page-size=\"queryParams.pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\">\n        </el-pagination>\n      </div>\n    </el-card>\n\n  <!-- 录入成绩对话框 -->\n  <el-dialog \n    title=\"录入成绩\" \n    :visible.sync=\"addDialog.visible\" \n    width=\"400px\"\n    @closed=\"handleDialogClosed\"\n  >\n    <el-form :model=\"form\" :rules=\"rules\" ref=\"recordForm\" label-width=\"80px\">\n      <!-- 学生选择 -->\n      <el-form-item label=\"学生\" prop=\"studentId\">\n        <el-select \n          v-model=\"form.studentId\" \n          placeholder=\"请选择学生\" \n          filterable\n          remote\n          :remote-method=\"searchStudents\"\n          :loading=\"studentLoading\"\n          style=\"width: 100%\"\n        >\n          <el-option\n            v-for=\"student in students\"\n            :key=\"student.id\"\n            :label=\"student.realName\"\n            :value=\"student.id\"\n          >\n            <span>{{ student.realName }}</span>\n            <span style=\"float: right; color: #8492a6; font-size: 13px\">\n              {{ student.username }}\n            </span>\n          </el-option>\n        </el-select>\n      </el-form-item>\n\n      <!-- 测试项目选择 -->\n      <el-form-item label=\"测试项目\" prop=\"sportsItemId\">\n        <el-select \n          v-model=\"form.sportsItemId\" \n          placeholder=\"请选择项目\"\n          @change=\"handleSportsItemChange\"\n          style=\"width: 100%\"\n        >\n          <el-option\n            v-for=\"item in sportsItems\"\n            :key=\"item.id\"\n            :label=\"item.name\"\n            :value=\"item.id\"\n          >\n            <span>{{ item.name }}</span>\n            <span style=\"float: right; color: #8492a6; font-size: 13px\">\n              {{ item.unit }}\n            </span>\n          </el-option>\n        </el-select>\n      </el-form-item>\n\n      <!-- 成绩输入 -->\n      <el-form-item label=\"成绩\" prop=\"score\">\n        <div style=\"display: flex; align-items: center;\">\n          <el-input-number \n            v-model=\"form.score\" \n            :precision=\"2\"\n            :step=\"0.1\"\n            :min=\"0\"\n            controls-position=\"right\"\n            style=\"width: 160px;\"\n          ></el-input-number>\n          <span style=\"margin-left: 10px; color: #606266;\">{{ selectedItemUnit }}</span>\n        </div>\n      </el-form-item>\n\n      <!-- 班级选择 -->\n      <el-form-item label=\"班级\" prop=\"className\">\n        <el-select v-model=\"form.className\" placeholder=\"请选择班级\" style=\"width: 100%\">\n          <el-option\n            v-for=\"className in classList\"\n            :key=\"className\"\n            :label=\"className\"\n            :value=\"className\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n    </el-form>\n\n    <!-- 对话框底部按钮 -->\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"addDialog.visible = false\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n    </div>\n  </el-dialog>\n\n    <!-- 审核对话框 -->\n    <el-dialog \n      title=\"成绩审核\" \n      :visible.sync=\"reviewDialog.visible\" \n      width=\"500px\"\n    >\n      <div class=\"review-info\" v-if=\"currentRecord\">\n        <el-descriptions :column=\"2\" border>\n          <el-descriptions-item label=\"学生\">{{ currentRecord.student ? currentRecord.student.realName : '-' }} ({{ currentRecord.studentNumber || '-' }})</el-descriptions-item>\n          <el-descriptions-item label=\"测试项目\">{{ currentRecord.sportsItem ? currentRecord.sportsItem.name : '-' }}</el-descriptions-item>\n          <el-descriptions-item label=\"测试成绩\">{{ currentRecord.score || '-' }} {{ currentRecord.sportsItem ? currentRecord.sportsItem.unit : '' }}</el-descriptions-item>\n          <el-descriptions-item label=\"班级\">{{ currentRecord.className || '-' }}</el-descriptions-item>\n          <el-descriptions-item label=\"录入教师\">{{ currentRecord.teacher ? currentRecord.teacher.realName : '-' }}</el-descriptions-item>\n          <el-descriptions-item label=\"录入时间\">{{ formatDateTime(currentRecord.createdAt) }}</el-descriptions-item>\n        </el-descriptions>\n      </div>\n      <el-form :model=\"reviewForm\" ref=\"reviewForm\" :rules=\"reviewRules\" class=\"review-form\">\n        <el-form-item label=\"审核结果\" prop=\"status\">\n          <el-radio-group v-model=\"reviewForm.status\">\n            <el-radio label=\"APPROVED\">通过</el-radio>\n            <el-radio label=\"REJECTED\">驳回</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"审核意见\" prop=\"comment\">\n          <el-input \n            type=\"textarea\" \n            v-model=\"reviewForm.comment\"\n            :rows=\"3\"\n            placeholder=\"请输入审核意见\">\n          </el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button @click=\"reviewDialog.visible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitReview\">确定</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 详情对话框 -->\n    <el-dialog \n      title=\"成绩详情\" \n      :visible.sync=\"detailDialog.visible\" \n      width=\"600px\"\n    >\n      <div v-if=\"currentRecord\" class=\"detail-container\">\n        <el-descriptions :column=\"2\" border>\n          <el-descriptions-item label=\"学生姓名\">\n            {{ currentRecord.student ? currentRecord.student.realName : '-' }} ({{ currentRecord.studentNumber || '-' }})\n          </el-descriptions-item>\n          <el-descriptions-item label=\"学号\">\n            {{ currentRecord.student ? currentRecord.student.username : '-' }}\n          </el-descriptions-item>\n          <el-descriptions-item label=\"班级\">\n            {{ currentRecord.className || '-' }}\n          </el-descriptions-item>\n          <el-descriptions-item label=\"测试项目\">\n            {{ currentRecord.sportsItem ? currentRecord.sportsItem.name : '-' }}\n          </el-descriptions-item>\n          <el-descriptions-item label=\"测试成绩\">\n            {{ currentRecord.score || '-' }} {{ currentRecord.sportsItem ? currentRecord.sportsItem.unit : '' }}\n          </el-descriptions-item>\n          <el-descriptions-item label=\"记录教师\">\n            {{ currentRecord.teacher ? currentRecord.teacher.realName : '-' }}\n          </el-descriptions-item>\n          <el-descriptions-item label=\"审核状态\">\n            <el-tag :type=\"getStatusType(currentRecord.status)\">\n              {{ getStatusText(currentRecord.status) }}\n            </el-tag>\n          </el-descriptions-item>\n          <el-descriptions-item label=\"审核时间\">\n            {{ formatDateTime(currentRecord.reviewTime) || '-' }}\n          </el-descriptions-item>\n          <el-descriptions-item label=\"审核意见\" :span=\"2\">\n            {{ currentRecord.reviewComment || '-' }}\n          </el-descriptions-item>\n        </el-descriptions>\n\n        <!-- 如果需要显示历史成绩，可以添加一个表格 -->\n        <div class=\"history-records\" v-if=\"historyRecords.length > 0\">\n          <h3>历史成绩记录</h3>\n          <el-table :data=\"historyRecords\" size=\"small\" border stripe>\n            <el-table-column label=\"测试时间\" align=\"center\">\n              <template slot-scope=\"scope\">\n                {{ formatDateTime(scope.row.testTime) }}\n              </template>\n            </el-table-column>\n            <el-table-column label=\"成绩\" align=\"center\">\n              <template slot-scope=\"scope\">\n                {{ scope.row.score || '-' }} {{ scope.row.sportsItem ? scope.row.sportsItem.unit : '' }}\n              </template>\n            </el-table-column>\n            <el-table-column label=\"状态\" align=\"center\">\n              <template slot-scope=\"scope\">\n                <el-tag :type=\"getStatusType(scope.row.status)\">\n                  {{ getStatusText(scope.row.status) }}\n                </el-tag>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n      </div>\n    </el-dialog>\n\n    <!-- 修改对话框 -->\n    <el-dialog \n      title=\"修改审核状态\" \n      :visible.sync=\"modifyDialog.visible\" \n      width=\"400px\"\n    >\n      <div class=\"review-info\">\n        <p>学生：{{ currentRecord ? currentRecord.student ? currentRecord.student.realName : '-' : '-' }} ({{ currentRecord ? currentRecord.studentNumber : '-' }})</p>\n        <p>项目：{{ currentRecord ? currentRecord.sportsItem ? currentRecord.sportsItem.name : '-' : '-' }}</p>\n        <p>成绩：{{ currentRecord ? currentRecord.score : '-' }} {{ currentRecord ? currentRecord.sportsItem ? currentRecord.sportsItem.unit : '' : '' }}</p>\n      </div>\n      <el-form :model=\"modifyForm\" :rules=\"modifyRules\" ref=\"modifyForm\" label-width=\"80px\">\n        <el-form-item label=\"审核状态\" prop=\"status\">\n          <el-select v-model=\"modifyForm.status\" placeholder=\"请选择审核状态\">\n            <el-option label=\"待审核\" value=\"PENDING\"></el-option>\n            <el-option label=\"通过\" value=\"APPROVED\"></el-option>\n            <el-option label=\"驳回\" value=\"REJECTED\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"审核意见\" prop=\"comment\">\n          <el-input\n            type=\"textarea\"\n            v-model=\"modifyForm.comment\"\n            :rows=\"3\"\n            placeholder=\"请输入审核意见\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"modifyDialog.visible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitModify\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { \n  getTestRecords, \n  addTestRecord, \n  reviewTestRecord,\n  getHistoryRecords,\n  exportRecords,\n  downloadTemplate,\n  modifyReview\n} from '@/api/testRecord'\n\nexport default {\n  name: 'DataReview',\n  data() {\n    return {\n      loading: false,\n      tableData: [],\n      total: 0,\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        sportsItemId: undefined,\n        status: undefined,\n        keyword: ''\n      },\n      sportsItems: [],\n      classList: [],\n      addDialog: {\n        visible: false\n      },\n      form: {\n        studentId: null,\n        sportsItemId: null,\n        score: null,\n        className: null\n      },\n      rules: {\n        studentId: [\n          { required: true, message: '请选择学生', trigger: 'change' }\n        ],\n        sportsItemId: [\n          { required: true, message: '请选择测试项目', trigger: 'change' }\n        ],\n        score: [\n          { required: true, message: '请输入测试成绩', trigger: 'blur' },\n          { type: 'number', message: '成绩必须为数字', trigger: 'blur' }\n        ],\n        className: [\n          { required: true, message: '请选择班级', trigger: 'change' }\n        ]\n      },\n      teachers: [],\n      selectedItemUnit: '',\n      students: [],\n      reviewDialog: {\n        visible: false\n      },\n      currentRecord: null,\n      reviewForm: {\n        id: null,\n        status: '',\n        comment: ''\n      },\n      reviewRules: {\n        status: [{ required: true, message: '请选择审核结果', trigger: 'change' }],\n        comment: [{ required: true, message: '请输入审核意见', trigger: 'blur' }]\n      },\n      studentLoading: false,\n      detailDialog: {\n        visible: false\n      },\n      historyRecords: [],\n      modifyDialog: {\n        visible: false\n      },\n      modifyForm: {\n        id: null,\n        status: '',\n        comment: ''\n      },\n      modifyRules: {\n        status: [{ required: true, message: '请选择审核状态', trigger: 'change' }],\n        comment: [{ required: true, message: '请输入审核意见', trigger: 'blur' }]\n      },\n    }\n  },\n  created() {\n    this.init()\n  },\n  methods: {\n    async init() {\n      await Promise.all([\n        this.getSportsItems(),\n        this.getClassList(),\n        this.getList()\n      ])\n    },\n    async getList() {\n      try {\n        this.loading = true;\n        const response = await this.$axios.get('/api/admin/data-review/list', {\n          params: {\n            page: this.queryParams.pageNum - 1,\n            size: this.queryParams.pageSize,\n            sportsItemId: this.queryParams.sportsItemId || null,\n            status: this.queryParams.status || null,\n            keyword: this.queryParams.keyword || null\n          }\n        });\n        \n        if (response.data.code === 200) {\n          this.tableData = response.data.data.content;\n          this.total = response.data.data.totalElements;\n        }\n      } catch (error) {\n        console.error('获取列表失败:', error);\n        this.$message.error('获取列表失败: ' + error.message);\n      } finally {\n        this.loading = false;\n      }\n    },\n    async getSportsItems() {\n      try {\n        const res = await this.$http.get('/api/admin/sports-items', {\n          params: {\n            page: 0,\n            size: 100\n          }\n        })\n        if (res.data.code === 200) {\n          this.sportsItems = res.data.data.content || []\n        }\n      } catch (error) {\n        console.error('获取体测项目列表失败:', error)\n        this.$message.error('获取体测项目列表失败')\n      }\n    },\n    handleQuery() {\n      this.queryParams.pageNum = 1\n      this.getList()\n    },\n    resetQuery() {\n      this.$refs.queryForm.resetFields()\n      this.queryParams = {\n        pageNum: 1,\n        pageSize: 10,\n        sportsItemId: undefined,\n        status: undefined,\n        keyword: ''\n      }\n      this.getList()\n    },\n    handleSizeChange(val) {\n      this.queryParams.pageSize = val\n      this.getList()\n    },\n    handleCurrentChange(val) {\n      this.queryParams.pageNum = val\n      this.getList()\n    },\n    getStatusType(status) {\n      const statusMap = {\n        'PENDING': 'warning',\n        'APPROVED': 'success',\n        'REJECTED': 'danger'\n      }\n      return statusMap[status] || 'info'\n    },\n    getStatusText(status) {\n      const statusMap = {\n        'PENDING': '待审核',\n        'APPROVED': '已通过',\n        'REJECTED': '已驳回'\n      }\n      return statusMap[status] || status\n    },\n    handleAdd() {\n      this.addDialog.visible = true\n      this.resetForm()\n    },\n    resetForm() {\n      this.$nextTick(() => {\n        if (this.$refs.recordForm) {\n          this.$refs.recordForm.resetFields()\n        }\n        this.form = {\n          studentId: null,\n          sportsItemId: null,\n          score: null,\n          className: null\n        }\n        this.selectedItemUnit = ''\n      })\n    },\n    handleDialogClosed() {\n      this.resetForm()\n    },\n    submitForm() {\n      this.$refs.recordForm.validate(async (valid) => {\n        if (valid) {\n          try {\n            const data = {\n              studentId: this.form.studentId,\n              sportsItemId: this.form.sportsItemId,\n              score: Number(this.form.score),\n              className: this.form.className,\n              teacherId: JSON.parse(localStorage.getItem('user')).id\n            }\n\n            const res = await addTestRecord(data)\n            if (res.data.code === 200) {\n              this.$message.success('成绩录入成功')\n              this.addDialog.visible = false\n              this.getList()\n            } else {\n              this.$message.error(res.data.message || '录入失败')\n            }\n          } catch (error) {\n            console.error('录入成绩失败:', error)\n            this.$message.error(error.response?.data?.message || '录入成绩失败')\n          }\n        }\n      })\n    },\n    async getTeachers() {\n      try {\n        const res = await this.$http.get('/api/admin/users', {\n          params: { userType: 'TEACHER' }\n        })\n        if (res.data.code === 200) {\n          this.teachers = res.data.data.content\n        }\n      } catch (error) {\n        console.error('获取教师列表失败:', error)\n      }\n    },\n    async getStudents() {\n      try {\n        const res = await this.$http.get('/api/admin/users', {\n          params: { userType: 'STUDENT' }\n        })\n        if (res.data.code === 200) {\n          this.students = res.data.data.content\n        }\n      } catch (error) {\n        console.error('获取学生列表失败:', error)\n      }\n    },\n    async handleExport() {\n      // 构建查询参数\n      const params = {\n        status: this.queryParams.status,\n        teacherId: this.queryParams.teacherId,\n        sportsItemId: this.queryParams.sportsItemId\n      }\n      \n      // 构建查询字符串\n      const queryString = Object.entries(params)\n        .filter(([_, value]) => value != null && value !== '')\n        .map(([key, value]) => `${key}=${value}`)\n        .join('&')\n      \n      // 下载文件\n      window.location.href = `/api/admin/test-record/export${queryString ? '?' + queryString : ''}`\n    },\n    handleSportsItemChange(value) {\n      const selectedItem = this.sportsItems.find(item => item.id === value)\n      if (selectedItem) {\n        this.selectedItemUnit = selectedItem.unit\n        console.log('选中的项目:', selectedItem)\n      } else {\n        this.selectedItemUnit = ''\n      }\n      this.form.score = null\n    },\n    handleReview(row) {\n      this.currentRecord = { ...row }; // 创建副本以避免直接修改\n      this.reviewForm = {\n        id: row.id,\n        status: '',\n        comment: ''\n      };\n      this.reviewDialog.visible = true;\n    },\n    async handleDetail(row) {\n      this.currentRecord = { ...row }; // 创建副本以避免直接修改\n      this.detailDialog.visible = true;\n      \n      try {\n        const res = await getHistoryRecords({\n          studentNumber: row.studentNumber,\n          sportsItemId: row.sportsItemId,\n          excludeId: row.id\n        });\n        \n        if (res.data.code === 200) {\n          this.historyRecords = res.data.data;\n        } else {\n          this.$message.warning(res.data.msg || '获取历史记录失败');\n          this.historyRecords = [];\n        }\n      } catch (error) {\n        console.error('获取历史记录失败:', error);\n        this.$message.error('获取历史记录失败');\n        this.historyRecords = [];\n      }\n    },\n    submitReview() {\n      this.$refs.reviewForm.validate(async (valid) => {\n        if (valid) {\n          try {\n            const data = {\n              id: this.currentRecord.id,\n              status: this.reviewForm.status,\n              reviewComment: this.reviewForm.comment\n            };\n\n            const res = await reviewTestRecord(data);\n            if (res.data.code === 200) {\n              this.$message.success('审核成功');\n              this.reviewDialog.visible = false;\n              this.getList();\n            } else {\n              this.$message.error(res.data.msg || '审核失败');\n            }\n          } catch (error) {\n            console.error('审核失败:', error);\n            this.$message.error('审核失败');\n          }\n        }\n      });\n    },\n    canReview(record) {\n      return record.status === 'PENDING' || record.status === 'REJECTED'\n    },\n    searchStudents(query) {\n      this.studentLoading = true\n      this.$http.get('/api/admin/users', {\n        params: {\n          userType: 'STUDENT',\n          realName: query\n        }\n      }).then(res => {\n        if (res.data.code === 200) {\n          this.students = res.data.data.content\n        }\n        this.studentLoading = false\n      }).catch(error => {\n        console.error('获取学生列表失败:', error)\n        this.studentLoading = false\n      })\n    },\n    formatDateTime(dateTime) {\n      if (!dateTime) return '-'\n      const date = new Date(dateTime)\n      return date.toLocaleString('zh-CN', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit',\n        hour12: false\n      })\n    },\n    handleModify(row) {\n      this.currentRecord = { ...row }; // 创建副本以避免直接修改\n      this.modifyForm = {\n        id: row.id,\n        status: row.status,\n        comment: row.reviewComment || ''\n      };\n      this.modifyDialog.visible = true;\n    },\n    submitModify() {\n      this.$refs.modifyForm.validate(async (valid) => {\n        if (valid) {\n          try {\n            const data = {\n              id: this.currentRecord.id,\n              status: this.modifyForm.status,\n              reviewComment: this.modifyForm.comment\n            };\n\n            const res = await modifyReview(data);\n            if (res.data.code === 200) {\n              this.$message.success('修改成功');\n              this.modifyDialog.visible = false;\n              this.getList();\n            } else {\n              this.$message.error(res.data.msg || '修改失败');\n            }\n          } catch (error) {\n            console.error('修改失败:', error);\n            this.$message.error('修改失败');\n          }\n        }\n      });\n    },\n    canModify(row) {\n      // 已审核的记录可以修改\n      return row.status === 'APPROVED' || row.status === 'REJECTED'\n    },\n    async getClassList() {\n      try {\n        const res = await this.$http.get('/api/admin/classes')\n        if (res.data.code === 200) {\n          this.classList = res.data.data || []\n        }\n      } catch (error) {\n        console.error('获取班级列表失败:', error)\n        this.$message.error('获取班级列表失败')\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.data-review {\n  padding: 20px;\n}\n\n.operation-bar {\n  margin-bottom: 20px;\n}\n\n.filter-section {\n  background-color: #f5f7fa;\n  padding: 20px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n}\n\n.table-card {\n  margin-top: 20px;\n}\n\n.pagination-container {\n  margin-top: 20px;\n  text-align: right;\n}\n\n.review-info {\n  margin-bottom: 20px;\n}\n\n.review-form {\n  margin-top: 20px;\n}\n\n.abnormal-score {\n  color: #f56c6c;\n  font-weight: bold;\n}\n\n.review-comment {\n  display: inline-block;\n  max-width: 200px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.el-descriptions {\n  margin: 20px 0;\n}\n\n.detail-container {\n  padding: 20px;\n}\n\n.history-records {\n  margin-top: 20px;\n}\n\n.history-records h3 {\n  margin-bottom: 15px;\n  font-size: 16px;\n  color: #606266;\n}\n\n/* 添加按钮间距 */\n.el-button + .el-button {\n  margin-left: 8px;\n}\n\n/* 可选：鼠标悬停效果 */\n.el-button.is-circle:hover {\n  transform: scale(1.1);\n  transition: transform 0.2s;\n}\n</style> "]}]}